webpackJsonp([1],{"+0hO":function(t,e){t.exports='<ng-sidebar-container style="height: 100vh;">\r\n  <ng-sidebar\r\n    [(opened)]="_opened"\r\n    mode="push"\r\n    autoCollapseWidth=500>\r\n    <app-navbar [navItems]="navItems" (navItemClicked)="navItemClicked($event)"></app-navbar>\r\n  </ng-sidebar>\r\n  <div ng-sidebar-content>\r\n    <button class="btn btn-secondary" (click)="_toggleSidebar()"><i class="fa fa-bars" aria-hidden="true"></i></button>\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n</ng-sidebar-container>\r\n\r\n'},"/olA":function(t,e,n){function r(t){return n(o(t))}function o(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./af":"W7lU","./af.js":"W7lU","./ar":"Gqwh","./ar-dz":"JC5e","./ar-dz.js":"JC5e","./ar-kw":"nJ96","./ar-kw.js":"nJ96","./ar-ly":"LcYZ","./ar-ly.js":"LcYZ","./ar-ma":"iyoR","./ar-ma.js":"iyoR","./ar-sa":"61Co","./ar-sa.js":"61Co","./ar-tn":"WrPW","./ar-tn.js":"WrPW","./ar.js":"Gqwh","./az":"Gl32","./az.js":"Gl32","./be":"fYXH","./be.js":"fYXH","./bg":"/yhO","./bg.js":"/yhO","./bn":"hxAe","./bn.js":"hxAe","./bo":"zZF5","./bo.js":"zZF5","./br":"WMuj","./br.js":"WMuj","./bs":"5EVZ","./bs.js":"5EVZ","./ca":"wmg6","./ca.js":"wmg6","./cs":"qvTY","./cs.js":"qvTY","./cv":"zFyr","./cv.js":"zFyr","./cy":"Bcqi","./cy.js":"Bcqi","./da":"674y","./da.js":"674y","./de":"q2Kf","./de-at":"s4hY","./de-at.js":"s4hY","./de-ch":"hWA+","./de-ch.js":"hWA+","./de.js":"q2Kf","./dv":"2cbV","./dv.js":"2cbV","./el":"0YCd","./el.js":"0YCd","./en-au":"opxc","./en-au.js":"opxc","./en-ca":"iixv","./en-ca.js":"iixv","./en-gb":"M0nn","./en-gb.js":"M0nn","./en-ie":"wmn+","./en-ie.js":"wmn+","./en-nz":"L4Lw","./en-nz.js":"L4Lw","./eo":"fd+I","./eo.js":"fd+I","./es":"puA+","./es-do":"gSup","./es-do.js":"gSup","./es.js":"puA+","./et":"7Jul","./et.js":"7Jul","./eu":"4KaW","./eu.js":"4KaW","./fa":"MwMx","./fa.js":"MwMx","./fi":"wAOV","./fi.js":"wAOV","./fo":"buSP","./fo.js":"buSP","./fr":"sTNA","./fr-ca":"zPnP","./fr-ca.js":"zPnP","./fr-ch":"4MLs","./fr-ch.js":"4MLs","./fr.js":"sTNA","./fy":"U1Q8","./fy.js":"U1Q8","./gd":"WqYy","./gd.js":"WqYy","./gl":"eYH8","./gl.js":"eYH8","./gom-latn":"Q1QI","./gom-latn.js":"Q1QI","./he":"jo+s","./he.js":"jo+s","./hi":"eRSC","./hi.js":"eRSC","./hr":"El2Y","./hr.js":"El2Y","./hu":"IMmW","./hu.js":"IMmW","./hy-am":"ehBT","./hy-am.js":"ehBT","./id":"HeWC","./id.js":"HeWC","./is":"oxQU","./is.js":"oxQU","./it":"WXc2","./it.js":"WXc2","./ja":"uSup","./ja.js":"uSup","./jv":"ujvV","./jv.js":"ujvV","./ka":"GZCY","./ka.js":"GZCY","./kk":"AqE9","./kk.js":"AqE9","./km":"PPWF","./km.js":"PPWF","./kn":"Q0mw","./kn.js":"Q0mw","./ko":"aCec","./ko.js":"aCec","./ky":"XL/8","./ky.js":"XL/8","./lb":"De7d","./lb.js":"De7d","./lo":"TZcH","./lo.js":"TZcH","./lt":"1E1a","./lt.js":"1E1a","./lv":"liBw","./lv.js":"liBw","./me":"thLw","./me.js":"thLw","./mi":"W8/z","./mi.js":"W8/z","./mk":"zeCd","./mk.js":"zeCd","./ml":"AVjm","./ml.js":"AVjm","./mr":"rDRb","./mr.js":"rDRb","./ms":"a8id","./ms-my":"C9yz","./ms-my.js":"C9yz","./ms.js":"a8id","./my":"52p3","./my.js":"52p3","./nb":"1007","./nb.js":"1007","./ne":"VQBJ","./ne.js":"VQBJ","./nl":"geRe","./nl-be":"AbEn","./nl-be.js":"AbEn","./nl.js":"geRe","./nn":"NfuI","./nn.js":"NfuI","./pa-in":"mDlC","./pa-in.js":"mDlC","./pl":"woRE","./pl.js":"woRE","./pt":"CKca","./pt-br":"72oV","./pt-br.js":"72oV","./pt.js":"CKca","./ro":"30td","./ro.js":"30td","./ru":"VnnM","./ru.js":"VnnM","./sd":"hV/D","./sd.js":"hV/D","./se":"GNzP","./se.js":"GNzP","./si":"S77X","./si.js":"S77X","./sk":"mShN","./sk.js":"mShN","./sl":"2Ng7","./sl.js":"2Ng7","./sq":"21R/","./sq.js":"21R/","./sr":"DnB2","./sr-cyrl":"qOmU","./sr-cyrl.js":"qOmU","./sr.js":"DnB2","./ss":"jJBP","./ss.js":"jJBP","./sv":"LJlr","./sv.js":"LJlr","./sw":"lZmi","./sw.js":"lZmi","./ta":"SdQ8","./ta.js":"SdQ8","./te":"2mi0","./te.js":"2mi0","./tet":"mcgO","./tet.js":"mcgO","./th":"2YRE","./th.js":"2YRE","./tl-ph":"zNTr","./tl-ph.js":"zNTr","./tlh":"s6/7","./tlh.js":"s6/7","./tr":"Kssk","./tr.js":"Kssk","./tzl":"Zr2w","./tzl.js":"Zr2w","./tzm":"7sp+","./tzm-latn":"r1Tb","./tzm-latn.js":"r1Tb","./tzm.js":"7sp+","./uk":"yunc","./uk.js":"yunc","./ur":"mdck","./ur.js":"mdck","./uz":"W4Oq","./uz-latn":"3+vd","./uz-latn.js":"3+vd","./uz.js":"W4Oq","./vi":"Y3s5","./vi.js":"Y3s5","./x-pseudo":"M5L6","./x-pseudo.js":"M5L6","./yo":"I9fb","./yo.js":"I9fb","./zh-cn":"CqpH","./zh-cn.js":"CqpH","./zh-hk":"h0sx","./zh-hk.js":"h0sx","./zh-tw":"16Za","./zh-tw.js":"16Za"};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id="/olA"},0:function(t,e,n){t.exports=n("cDNt")},"1IB2":function(t,e){t.exports='<div class="row">\r\n  <div class="col-md-6" id="meals">\r\n    <div class="mb-2 d-flex justify-content-between">\r\n      <h4 class="mt-auto mb-auto">{{"MEALS.TITLE" | translate}}</h4>\r\n      <div>\r\n        <button type="button" class="btn btn-success" (click)="onAddNewMeal()">\r\n          {{"MEALS.NEW" | translate}} <span class="fa fa-plus" aria-hidden="true"></span>\r\n        </button>\r\n        <button type="button" class="btn btn-success" (click)="onShowTemplateMeals(popupTemplates)" *ngIf="selectedMenu">\r\n          {{"MEALS.ADD_TEMPLATE" | translate}} <span class="fa fa-plus" aria-hidden="true"></span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div *ngIf="meals.length != 0">\r\n      <ngb-accordion #accordion="ngbAccordion" [closeOthers]="true" activeIds="ngb-panel-0-header" (panelChange)="panelChange($event)">\r\n        <ngb-panel id="panel-{{meal.id}}" *ngFor="let meal of meals">\r\n          <ng-template ngbPanelTitle>\r\n            <div class="container-fluid">\r\n              <div class="row">\r\n                <p class="meal-title">{{meal.name}}</p>\r\n                <button type="button" class="btn btn-danger ml-auto" (click)="onDeleteMeal(meal, popupDelete)">\r\n                  <span class="fa fa-trash" aria-hidden="true"></span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </ng-template>\r\n          <ng-template ngbPanelContent>\r\n            <div class="container-fluid">\r\n              <div class="row">\r\n                <div>\r\n                  <div class="form-group">\r\n                    <label>{{"MEALS.NAME" | translate}} </label>\r\n                    <input type="text" [(ngModel)]="meal.name" class="form-control" name="name"\r\n                           (blur)="onBlurName(meal)">\r\n                  </div>\r\n                  <div class="form-group">\r\n                    <label>{{"MEALS.DESC" | translate}}</label>\r\n                    <textarea [(ngModel)]="meal.extraInfo" class="form-control" name="extraInfo" cols="50" rows="3"\r\n                              (blur)="onBlurExtraInfo(meal)">\r\n                          {{meal.extraInfo}}\r\n                        </textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr>\r\n              <div class="row">\r\n                <div class="products" droppable [dragOverClass]="\'drag-target-border\'" [dragHintClass]="\'drag-hint\'"\r\n                     (onDrop)="onMealProductDrop(meal, $event)">\r\n                  <h5 class="mb-2 text-muted">{{"MEALS.PRODUCTS.TITLE" | translate}}</h5>\r\n                  <ul class="list-group">\r\n                    <div class="product-holder" *ngIf="meal.mealProducts.length == 0">\r\n                      {{"MEALS.PRODUCTS.EMPTY" | translate}}\r\n                    </div>\r\n                    <div class="product-holder" *ngFor="let mp of meal.mealProducts">\r\n                      <li class="list-group-item product-detail">\r\n                        <div *ngIf="!mp.product">\r\n                          {{"MEALS.PRODUCTS.LOADING" | translate}}\r\n                        </div>\r\n                        <div class="d-flex align-items-center" *ngIf="mp.product">\r\n                          <h6>{{mp.product.name.slice(0, mp.product.name.indexOf("-"))}}</h6>\r\n                          <input type="number" [(ngModel)]="mp.quantity" class="form-control ml-auto quantity"\r\n                                 (blur)="onBlurMealProductQuantity(mp)" name="quantity">\r\n                          <span class="unit">g</span>\r\n                        </div>\r\n                        <blockquote class="blockquote" *ngIf="mp.product &&\r\n                            mp.product.name.slice(mp.product.name.indexOf(\'-\') + 1, mp.product.name.lastIndexOf(\'-\'))">\r\n                          <footer class="blockquote-footer">\r\n                            <cite title="Source Title">\r\n                              {{mp.product.name.slice(mp.product.name.indexOf("-") + 1, mp.product.name.lastIndexOf("-"))}}\r\n                            </cite>\r\n                          </footer>\r\n                        </blockquote>\r\n                      </li>\r\n                      <button type="button" class="btn btn-danger product-trash" (click)="onDeleteProduct(meal, mp)">\r\n                        <span class="fa fa-trash" aria-hidden="true"></span>\r\n                      </button>\r\n                    </div>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <hr>\r\n              <div class="row" *ngIf="selectedPatient">\r\n                <div>\r\n                  <h5 class="mb-2 text-muted">{{"MEALS.PATIENT.TITLE" | translate}}</h5>\r\n                  <div class="stars">\r\n                    <span class="fa fa-star" aria-hidden="true" *ngFor="let x of meal.score|times"></span><span class="fa fa-star-o" aria-hidden="true" *ngFor="let x of 5 - meal.score|times"></span>\r\n                  </div>\r\n                  <blockquote class="blockquote">\r\n                    <p class="mb-0">{{meal.comment}}</p>\r\n                    <footer class="blockquote-footer">\r\n                      {{"MEALS.PATIENT.COMMENT_OF" | translate}}\r\n                      <cite title="Source Title">\r\n                        {{selectedPatient.firstName + \' \' + selectedPatient.lastName}}\r\n                      </cite>\r\n                    </footer>\r\n                  </blockquote>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </ng-template>\r\n        </ngb-panel>\r\n      </ngb-accordion>\r\n    </div>\r\n    <div *ngIf="meals.length == 0">\r\n      {{"MEALS.EMPTY" | translate}}\r\n  </div>\r\n  </div>\r\n  <div class="col-md-6">\r\n    <div *ngIf="showProducts">\r\n      <div>\r\n        <app-search-food [enableDragDrop]="true"></app-search-food>\r\n      </div>\r\n    </div>\r\n    <div *ngIf="!showProducts">\r\n      <p>{{"MEALS.PRODUCTS.SELECT_MEAL_BEFORE" | translate}}</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #popupDelete let-c="close" let-d="dismiss">\r\n  <div class="modal-header">\r\n    <h4 class="modal-title">{{deletePopupStrings.title | translate}}</h4>\r\n    <button type="button" class="close" aria-label="Close" (click)="c(\'Cross click\')">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class="modal-body">\r\n    <p>{{deletePopupStrings.body | translate}}</p>\r\n  </div>\r\n  <div class="modal-footer">\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Cancel\')">\r\n      {{deletePopupStrings.cancel | translate}}\r\n    </button>\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Delete\')">\r\n      {{deletePopupStrings.delete | translate}}\r\n    </button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #popupTemplates let-c="close" let-d="dismiss">\r\n  <div class="modal-header">\r\n    <h4 class="modal-title">{{"MEALS.TEMPLATE.MODAL.TITLE" | translate}}</h4>\r\n    <button type="button" class="close" aria-label="Close" (click)="c(\'Cross clicked\')">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class="modal-body">\r\n    <div class="list-group">\r\n      <p>{{"MEALS.TEMPLATE.MODAL.INFO" | translate}}</p>\r\n      <button type="button" class="list-group-item list-group-item-action" *ngFor="let meal of templateMeals"\r\n          (click)="onAddFromTemplate(meal)">\r\n        {{meal.name}}\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div class="modal-footer">\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Cancel\')">\r\n      {{"MEALS.TEMPLATE.MODAL.CANCEL" | translate}}\r\n    </button>\r\n  </div>\r\n</ng-template>\r\n'},"1IEk":function(t,e){t.exports='<div class="container-fluid mt-3" id="form-holder">\r\n  <h1 class="text-center">Diet Pro.</h1>\r\n  <form>\r\n    <div class="container p-3">\r\n      <label><b>{{ \'LOGIN.USERNAME\' | translate }}</b></label>\r\n      <input type="text" [(ngModel)]="auth.username" placeholder="{{ \'LOGIN.USERNAME_PLACEHOLDER\' | translate }}"\r\n             name="username" id="username" required>\r\n\r\n      <label><b>{{ \'LOGIN.PASSWORD\' | translate }}</b></label>\r\n      <input type="password" [(ngModel)]="auth.password" placeholder="{{ \'LOGIN.PASSWORD\' | translate }}"\r\n             name="password" id="password" required>\r\n\r\n      <button type="button" class="btn btn-success mt-2 w-100" (click)="onLogin()" [disabled]="loading">\r\n        {{ \'LOGIN.LOGIN\' | translate }}\r\n      </button>\r\n    </div>\r\n\r\n    <div class="container">\r\n      <div class="alert alert-danger" *ngIf="error !== \'\'">\r\n        <strong>{{ error | translate }}</strong>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n'},"5BCO":function(t,e){t.exports="<p *ngIf=\"sizeOfProducts\">\r\n  {{ 'ADMIN.PRODUCT.SIZE' | translate:{size:sizeOfProducts} }}\r\n</p>\r\n"},"6+Kx":function(t,e){t.exports='<ng-sidebar-container style="height: 100vh;">\r\n  <ng-sidebar\r\n    [(opened)]="_opened"\r\n    mode="push"\r\n    autoCollapseWidth=500>\r\n    <app-navbar [navItems]="navItems" (navItemClicked)="navItemClicked($event)"></app-navbar>\r\n  </ng-sidebar>\r\n  <div ng-sidebar-content>\r\n    <button class="btn btn-secondary" (click)="_toggleSidebar()"><i class="fa fa-bars" aria-hidden="true"></i></button>\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n</ng-sidebar-container>\r\n\r\n'},"6xcE":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},"71GB":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".username-taken{border:1px solid red}",""]),t.exports=t.exports.toString()},"7Akd":function(t,e){t.exports='<div class="container">\r\n  <div class="row">\r\n    <p *ngIf="sizeOfProducts || sizeOfProducts == 0">\r\n      {{ \'ADMIN.PRODUCT.SIZE\' | translate:{size:sizeOfProducts} }}\r\n    </p>\r\n  </div>\r\n  <hr>\r\n  <div class="row">\r\n    <form *ngIf="!searchingProductToDelete">\r\n      <div class="form-group row">\r\n        <label for="productId" class="col-md-5 col-form-label">{{ \'ADMIN.PRODUCT.DEL_ID\' | translate }}</label>\r\n        <div class="col-md-3">\r\n          <input type="number" [(ngModel)]="productId" class="form-control" name="productId" id="productId" placeholder="10400" >\r\n        </div>\r\n        <div class="col-md-4">\r\n          <button class="btn btn-danger" (click)="onDeleteProduct(content)"\r\n                  [class.disabled]="productId == undefined || productId == 0">\r\n            {{ \'ADMIN.PRODUCT.DELETE\' | translate }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    <div *ngIf="searchingProductToDelete">\r\n      <p>{{ \'ADMIN.PRODUCT.SEARCHING\' | translate }}</p>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class="row">\r\n    <form>\r\n      <div class="form-group row">\r\n        <label for="purgingCheck" class="col-md-5 col-form-label">{{ \'ADMIN.PURGE.CHECK\' | translate }}</label>\r\n        <div class="col-md-3">\r\n          <input type="checkbox" [(ngModel)]="purgingCheck" class="form-control" name="purgingCheck" id="purgingCheck">\r\n        </div>\r\n        <div class="col-md-4">\r\n          <button class="btn btn-danger" (click)="purgeDB(purge)" [class.disabled]="!purgingCheck">\r\n            {{ \'ADMIN.PRODUCT.PURGE\' | translate }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <hr>\r\n  <div class="row">\r\n\r\n  </div>\r\n\r\n  <div *ngIf="currentFileUpload" class="progress">\r\n    <div class="progress-bar progress-bar-info progress-bar-striped"\r\n         role="progressbar" attr.aria-valuenow="{{progress.percentage}}"\r\n         aria-valuemin="0" aria-valuemax="100"\r\n         [ngStyle]="{width:progress.percentage+\'%\'}">\r\n      {{progress.percentage}}%</div>\r\n  </div>\r\n\r\n  <label class="btn btn-default">\r\n    <input type="file" (change)="selectFile($event)">\r\n  </label>\r\n  <button class="btn btn-success" [disabled]="!selectedFiles"\r\n          (click)="upload()">{{ \'ADMIN.PRODUCT.UPLOAD\' | translate }}</button>\r\n</div>\r\n\r\n\r\n<ng-template #content let-c="close" let-d="dismiss">\r\n  <div class="modal-header">\r\n    <h4 class="modal-title">{{ \'ADMIN.DELETE.ATTENTION\' | translate }}</h4>\r\n    <button type="button" class="close" aria-label="Close" (click)="d(\'Cross click\')">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class="modal-body">\r\n    <p>{{ \'ADMIN.DELETE.WARNING\' | translate }}</p>\r\n    <h5>{{ productToDelete.name }}</h5>\r\n  </div>\r\n  <div class="modal-footer">\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Cancel\')">\r\n      {{ \'ADMIN.DELETE.CANCEL\' | translate }}\r\n    </button>\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Confirm\')">\r\n      {{ \'ADMIN.DELETE.CONFIRM\' | translate }}\r\n    </button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #purge let-c="close" let-d="dismiss">\r\n  <div class="modal-header">\r\n    <h4 class="modal-title">{{ \'ADMIN.PURGE.TITLE\' | translate }}</h4>\r\n    <button type="button" class="close" aria-label="Close" (click)="d(\'Cross click\')">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class="modal-body">\r\n    <p>{{ \'ADMIN.PURGE.BODY\' | translate }}</p>\r\n  </div>\r\n  <div class="modal-footer">\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Cancel\')">\r\n      {{ \'ADMIN.PURGE.CANCEL\' | translate }}\r\n    </button>\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Confirm\')">\r\n      {{ \'ADMIN.PURGE.CONFIRM\' | translate }}\r\n    </button>\r\n  </div>\r\n</ng-template>\r\n\r\n<p *ngFor="let alert of alerts">\r\n  <ngb-alert [type]="alert.type" (close)="closeAlert(alert)">{{ alert.message | translate }} {{alert.subMessage}}</ngb-alert>\r\n</p>\r\n'},"8+tS":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},"8Sw2":function(t,e,n){function r(t){return n(o(t))}function o(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./af":"FQor","./af.js":"FQor","./ar":"EcI0","./ar-dz":"cw72","./ar-dz.js":"cw72","./ar-kw":"fu+8","./ar-kw.js":"fu+8","./ar-ly":"7CVz","./ar-ly.js":"7CVz","./ar-ma":"1dFW","./ar-ma.js":"1dFW","./ar-sa":"UxV2","./ar-sa.js":"UxV2","./ar-tn":"nm31","./ar-tn.js":"nm31","./ar.js":"EcI0","./az":"EbpX","./az.js":"EbpX","./be":"SQlX","./be.js":"SQlX","./bg":"R3V+","./bg.js":"R3V+","./bm":"mH+W","./bm.js":"mH+W","./bn":"cAX3","./bn.js":"cAX3","./bo":"dHgA","./bo.js":"dHgA","./br":"W7ww","./br.js":"W7ww","./bs":"lZ6K","./bs.js":"lZ6K","./ca":"udbC","./ca.js":"udbC","./cs":"oSQb","./cs.js":"oSQb","./cv":"yPEm","./cv.js":"yPEm","./cy":"PpYB","./cy.js":"PpYB","./da":"oiZG","./da.js":"oiZG","./de":"LYe6","./de-at":"KOG5","./de-at.js":"KOG5","./de-ch":"o3JY","./de-ch.js":"o3JY","./de.js":"LYe6","./dv":"OkYT","./dv.js":"OkYT","./el":"QFnp","./el.js":"QFnp","./en-au":"dBGl","./en-au.js":"dBGl","./en-ca":"vv0C","./en-ca.js":"vv0C","./en-gb":"IoCy","./en-gb.js":"IoCy","./en-ie":"qVAg","./en-ie.js":"qVAg","./en-nz":"FbT0","./en-nz.js":"FbT0","./eo":"y/6j","./eo.js":"y/6j","./es":"ivpd","./es-do":"DBbP","./es-do.js":"DBbP","./es-us":"RJPF","./es-us.js":"RJPF","./es.js":"ivpd","./et":"FrUj","./et.js":"FrUj","./eu":"LAVD","./eu.js":"LAVD","./fa":"J2cK","./fa.js":"J2cK","./fi":"5FCP","./fi.js":"5FCP","./fo":"jIZb","./fo.js":"jIZb","./fr":"Lq8I","./fr-ca":"ICRA","./fr-ca.js":"ICRA","./fr-ch":"QWmo","./fr-ch.js":"QWmo","./fr.js":"Lq8I","./fy":"Fbnp","./fy.js":"Fbnp","./gd":"zhFu","./gd.js":"zhFu","./gl":"o10m","./gl.js":"o10m","./gom-latn":"UoXv","./gom-latn.js":"UoXv","./gu":"yUwm","./gu.js":"yUwm","./he":"gbvS","./he.js":"gbvS","./hi":"+UQz","./hi.js":"+UQz","./hr":"qGYH","./hr.js":"qGYH","./hu":"hGGh","./hu.js":"hGGh","./hy-am":"1AR5","./hy-am.js":"1AR5","./id":"Ie9h","./id.js":"Ie9h","./is":"piS+","./is.js":"piS+","./it":"5P9/","./it.js":"5P9/","./ja":"3cRe","./ja.js":"3cRe","./jv":"vwCJ","./jv.js":"vwCJ","./ka":"R7aq","./ka.js":"R7aq","./kk":"d8hV","./kk.js":"d8hV","./km":"nCdc","./km.js":"nCdc","./kn":"5K8n","./kn.js":"5K8n","./ko":"1jN3","./ko.js":"1jN3","./ky":"74/W","./ky.js":"74/W","./lb":"XAyT","./lb.js":"XAyT","./lo":"w/Mz","./lo.js":"w/Mz","./lt":"IetG","./lt.js":"IetG","./lv":"CRPd","./lv.js":"CRPd","./me":"1mee","./me.js":"1mee","./mi":"yRr3","./mi.js":"yRr3","./mk":"bfn1","./mk.js":"bfn1","./ml":"r1ky","./ml.js":"r1ky","./mr":"+K6p","./mr.js":"+K6p","./ms":"asMk","./ms-my":"IcWU","./ms-my.js":"IcWU","./ms.js":"asMk","./mt":"yJmD","./mt.js":"yJmD","./my":"Isng","./my.js":"Isng","./nb":"FjNp","./nb.js":"FjNp","./ne":"P9zQ","./ne.js":"P9zQ","./nl":"pejQ","./nl-be":"c3/i","./nl-be.js":"c3/i","./nl.js":"pejQ","./nn":"ALD8","./nn.js":"ALD8","./pa-in":"1YTd","./pa-in.js":"1YTd","./pl":"Gs99","./pl.js":"Gs99","./pt":"eunO","./pt-br":"uHKL","./pt-br.js":"uHKL","./pt.js":"eunO","./ro":"1FZw","./ro.js":"1FZw","./ru":"Cy48","./ru.js":"Cy48","./sd":"+28k","./sd.js":"+28k","./se":"EiHj","./se.js":"EiHj","./si":"77bI","./si.js":"77bI","./sk":"BgyH","./sk.js":"BgyH","./sl":"K7sG","./sl.js":"K7sG","./sq":"pwQJ","./sq.js":"pwQJ","./sr":"N0T2","./sr-cyrl":"9OoP","./sr-cyrl.js":"9OoP","./sr.js":"N0T2","./ss":"Mh9L","./ss.js":"Mh9L","./sv":"YZAt","./sv.js":"YZAt","./sw":"/7jV","./sw.js":"/7jV","./ta":"VKBt","./ta.js":"VKBt","./te":"TIcV","./te.js":"TIcV","./tet":"BlC1","./tet.js":"BlC1","./th":"Zi3L","./th.js":"Zi3L","./tl-ph":"D4Y9","./tl-ph.js":"D4Y9","./tlh":"muBP","./tlh.js":"muBP","./tr":"82s3","./tr.js":"82s3","./tzl":"vjXv","./tzl.js":"vjXv","./tzm":"Vhfe","./tzm-latn":"m0Pg","./tzm-latn.js":"m0Pg","./tzm.js":"Vhfe","./uk":"Y3Ex","./uk.js":"Y3Ex","./ur":"4DIg","./ur.js":"4DIg","./uz":"wDue","./uz-latn":"Li28","./uz-latn.js":"Li28","./uz.js":"wDue","./vi":"UbP6","./vi.js":"UbP6","./x-pseudo":"fQLM","./x-pseudo.js":"fQLM","./yo":"evMD","./yo.js":"evMD","./zh-cn":"DV5H","./zh-cn.js":"DV5H","./zh-hk":"iEKH","./zh-hk.js":"iEKH","./zh-tw":"X9uL","./zh-tw.js":"X9uL"};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id="8Sw2"},"9d60":function(t,e){t.exports='<div class="card" *ngIf="customer">\r\n  <h4 class="card-header">{{ \'CUSTOMER.DETAIL.META_DATA\' | translate }}</h4>\r\n  <div class="card-body">\r\n    <label for="firstName">{{ \'CUSTOMER.DETAIL.FIRST_NAME\' | translate }}</label>\r\n    <input type="text" class="form-control" id="firstName"\r\n           required\r\n           [(ngModel)]="customer.firstName" name="firstName">\r\n    <label for="middleName">{{ \'CUSTOMER.DETAIL.MIDDLE_NAME\' | translate }}</label>\r\n    <input type="text" class="form-control" id="middleName"\r\n           [(ngModel)]="customer.middleName" name="middleName">\r\n    <label for="lastName">{{ \'CUSTOMER.DETAIL.LAST_NAME\' | translate }}</label>\r\n    <input type="text" class="form-control" id="lastName"\r\n           [(ngModel)]="customer.lastName" name="lastName">\r\n    <label for="email">{{ \'CUSTOMER.DETAIL.EMAIL\' | translate }}</label>\r\n    <input type="text" class="form-control" id="email"\r\n           [(ngModel)]="customer.email" name="email">\r\n    <label for="phone">{{ \'CUSTOMER.DETAIL.PHONE\' | translate }}</label>\r\n    <input type="text" class="form-control" id="phone"\r\n           [(ngModel)]="customer.phone" name="phone">\r\n    <label for="birthday">{{ \'CUSTOMER.DETAIL.BIRTHDAY\' | translate }}</label>\r\n    <form class="form-inline">\r\n      <div class="form-group">\r\n        <div class="input-group">\r\n          <input class="form-control" placeholder="yyyy-mm-dd"\r\n                 name="birthday" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker"\r\n                 (ngModelChange)="birthdayChange()" id="birthday">\r\n          <button class="input-group-addon" (click)="d.toggle()" type="button">\r\n            <img src="../../../assets/img/calendar-icon.svg" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    <div class="form-group">\r\n      <label for="gender">{{ \'CUSTOMER.DETAIL.GENDER.TITLE\' | translate }}</label>\r\n      <select class="form-control" [(ngModel)]="customer.gender" name="gender" id="gender">\r\n        <option *ngFor="let g of genders" [value]="g.value">\r\n          {{ formatGender(g.value) | translate }}\r\n        </option>\r\n      </select>\r\n    </div>\r\n    <button type="button" class="btn btn-outline-primary" (click)="isAddressCollapsed = !isAddressCollapsed"\r\n            [attr.aria-expanded]="!isAddressCollapsed" aria-controls="addressCollapse">\r\n      {{ \'CUSTOMER.DETAIL.ADDRESS.TOGGLE\' | translate }}\r\n    </button>\r\n    <div id="addressCollapse" [ngbCollapse]="isAddressCollapsed">\r\n      <div class="card">\r\n        <div class="card-body">\r\n          <label for="street">{{ \'CUSTOMER.DETAIL.ADDRESS.STREET\' | translate }}</label>\r\n          <input type="text" class="form-control" id="street"\r\n                 [(ngModel)]="customer.address.street" name="street">\r\n          <label for="number">{{ \'CUSTOMER.DETAIL.ADDRESS.NUMBER\' | translate }}</label>\r\n          <input type="text" class="form-control" id="number"\r\n                 [(ngModel)]="customer.address.number" name="number">\r\n          <label for="postcode">{{ \'CUSTOMER.DETAIL.ADDRESS.POSTCODE\' | translate }}</label>\r\n          <input type="number" class="form-control" id="postcode"\r\n                 [(ngModel)]="customer.address.postcode" name="postcode">\r\n          <label for="city">{{ \'CUSTOMER.DETAIL.ADDRESS.CITY\' | translate }}</label>\r\n          <input type="text" class="form-control" id="city"\r\n                 [(ngModel)]="customer.address.city" name="city">\r\n          <label for="country">{{ \'CUSTOMER.DETAIL.ADDRESS.COUNTRY\' | translate }}</label>\r\n          <input type="text" class="form-control" id="country"\r\n                 [(ngModel)]="customer.address.country" name="country">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},"9mUF":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},"D+9W":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},FFCA:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"#form-holder{max-width:50%}form{border:3px solid #f1f1f1}input[type=password],input[type=text]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}",""]),t.exports=t.exports.toString()},GAMd:function(t,e){t.exports='<p *ngFor="let alert of alerts">\r\n  <ngb-alert [type]="alert.type" (close)="closeAlert(alert)">{{ alert.message | translate }} {{alert.subMessage}}</ngb-alert>\r\n</p>\r\n\r\n<div *ngIf="!diet">\r\n  {{ \'ADMIN.DETAIL.SELECT_FIRST\' | translate }}\r\n</div>\r\n\r\n<div class="container-fluid" *ngIf="diet">\r\n  <div class="row">\r\n    <div class="col-md-4">\r\n      <app-detail-customer [customer]="diet"></app-detail-customer>\r\n    </div>\r\n    <div class="col-md-4">\r\n      <div class="card">\r\n        <h4 class="card-header">{{ \'ADMIN.DETAIL.TITLE\' | translate }}</h4>\r\n        <div class="card-body">\r\n          <div class="form-group">\r\n            <label for="vat">{{ \'ADMIN.DETAIL.VAT\' | translate }}</label>\r\n            <input type="text" class="form-control" id="vat" required\r\n                      [(ngModel)]="diet.vat" name="vat"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="row">\r\n    <button type="button" class="btn btn-secondary" (click)="goBack(content)">\r\n      {{ \'ADMIN.DETAIL.RETURN\' | translate }}\r\n    </button>\r\n    <button type="button" class="btn btn-success" (click)="save()">\r\n      {{ \'ADMIN.DETAIL.SAVE\' | translate }}\r\n      <span class="badge badge-pill badge-danger" *ngIf="isDietModified()">*</span>\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #content let-c="close" let-d="dismiss">\r\n  <div class="modal-header">\r\n    <h4 class="modal-title">{{ \'ADMIN.DETAIL.ATTENTION\' | translate }}</h4>\r\n    <button type="button" class="close" aria-label="Close" (click)="c(\'Cross click\')">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class="modal-body">\r\n    <p>{{ \'ADMIN.DETAIL.DIET_MODIFIED\' | translate }}</p>\r\n  </div>\r\n  <div class="modal-footer">\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Cancel\')">\r\n      {{ \'ADMIN.DETAIL.CANCEL\' | translate }}\r\n    </button>\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Return\')">\r\n      {{ \'ADMIN.DETAIL.RETURN_WITHOUT_SAVING\' | translate }}\r\n    </button>\r\n  </div>\r\n</ng-template>\r\n'},"GQ7+":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".meal-title{margin-top:auto;margin-bottom:auto}#meals{padding-right:20px;border-right:1px solid #ccc}.products{width:100%}.product-holder{display:-webkit-box;display:-ms-flexbox;display:flex}.product-detail{-webkit-box-flex:1;-ms-flex:1 0;flex:1 0;height:80px;border-radius:0}.product-detail h6{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:24em}input.quantity{width:80px}span.unit{margin-left:-12px;color:#789}.product-trash{border-radius:0;width:50px}.drag-hint{border:2px dashed #ffc100}.drag-target-border{border:2px dashed #00bfff}",""]),t.exports=t.exports.toString()},GvUu:function(t,e){t.exports='<nav class="p-1 bg-light">\r\n  <h2 class="pb-4">\r\n    Diet Pro. <i class="fa fa-cog" id="settings-cog" (click)="onSettingsCogClick()"></i>\r\n  </h2>\r\n\r\n  <div *ngIf="displayType == \'settings\'" id="settings">\r\n    <button class="btn btn-secondary" (click)="onBackClick()">\r\n      <i class="fa fa-arrow-left"></i> {{"NAV.BACK" | translate}}\r\n    </button>\r\n    <hr>\r\n    <h4 class="text-center">{{"NAV.SETTINGS.TITLE" | translate}}</h4>\r\n    <form class="form-inline">\r\n      <label for="lang">{{"NAV.SETTINGS.LANG" | translate}} </label>\r\n      <select [(ngModel)]="selectedLang" class="form-control ml-2" name="lang" id="lang" (ngModelChange)="onChangeLang($event)">\r\n        <option *ngFor="let lang of translate.getLangs()" [ngValue]="lang">\r\n          {{lang}}\r\n        </option>\r\n      </select>\r\n    </form>\r\n  </div>\r\n  <ul *ngIf="navItems && displayType == \'menu\'" id="menu">\r\n    <li *ngFor="let item of navItems" class="menuItem"\r\n        [class.activeMenu]="isActive(item)" (click)="onNavigate(item)">\r\n      <img src="{{item.img}}" placement="top" ngbTooltip="{{ (item.title) | translate}}"\r\n           alt="{{ (item.title) | translate}}">\r\n    </li>\r\n  </ul>\r\n  <div *ngIf="displayType == \'submenu\'" id="submenu">\r\n    <button class="btn btn-secondary" (click)="onBackClick()">\r\n    <i class="fa fa-arrow-left"></i> {{"NAV.BACK" | translate}}\r\n    </button>\r\n    <hr>\r\n    <div (click)="onNavigate(activeNavItem)" id="activeMenu" class="pb-1">\r\n      <h4 class="text-center">{{activeNavItem.title | translate}}</h4>\r\n      <img src="{{activeNavItem.img}}" alt="{{ (activeNavItem.title) | translate}}">\r\n    </div>\r\n    <h6>Submenus</h6>\r\n    <ul>\r\n      <li *ngFor="let subItem of activeNavItem.subMenus" (click)="onSubNavigate(subItem)">\r\n        <img alt="{{ (subItem.title) | translate}}"\r\n             src="{{subItem.img}}"\r\n             placement="top" ngbTooltip="{{ (subItem.title) | translate}}"/>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n\r\n  <div class="fixed-bottom" id="bottom">\r\n    <button type="button" class="btn btn-warning" id="logout" (click)="onLogout()">\r\n      {{ \'NAV.LOG_OUT\' | translate}} <span class="fa fa-sign-out" aria-hidden="true"></span>\r\n    </button>\r\n  </div>\r\n</nav>\r\n'},"H+Hb":function(t,e){t.exports='<p *ngFor="let alert of alerts">\r\n  <ngb-alert [type]="alert.type" (close)="closeAlert(alert)">{{ alert.message | translate }} {{alert.subMessage}}</ngb-alert>\r\n</p>\r\n\r\n<div *ngIf="!patient">\r\n  {{ \'DIET.DETAIL.SELECT_FIRST\' | translate }}\r\n</div>\r\n\r\n<div class="container-fluid" *ngIf="patient">\r\n  <div class="row">\r\n    <div class="col-md-4">\r\n      <app-detail-customer [customer]="patient"></app-detail-customer>\r\n    </div>\r\n    <div class="col-md-4">\r\n      <div class="card">\r\n        <h4 class="card-header">{{ \'DIET.DETAIL.PARAMS.TITLE\' | translate }}</h4>\r\n        <div class="card-body">\r\n            <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">\r\n              <div *ngFor="let param of patient.anthropometricParameters">\r\n                <ngb-panel title={{getFormattedDate(param.date)}}>\r\n                  <ng-template ngbPanelContent>\r\n                    <label for="length">{{ \'DIET.DETAIL.PARAMS.LENGTH\' | translate }}</label>\r\n                    <input type="number" class="form-control" id="length"\r\n                           [(ngModel)]="param.length" name="length">\r\n                    <label for="weight">{{ \'DIET.DETAIL.PARAMS.WEIGHT\' | translate }}</label>\r\n                    <input type="number" step="any" class="form-control" id="weight"\r\n                           [(ngModel)]="param.weight" name="weight">\r\n                    <label for="bodyFat">{{ \'DIET.DETAIL.PARAMS.BODY_FAT\' | translate }}</label>\r\n                    <input type="number" step="any" class="form-control" id="bodyFat"\r\n                           [(ngModel)]="param.bodyFat" name="bodyFat">\r\n                    <label for="waistCircumference">{{ \'DIET.DETAIL.PARAMS.WAIST\' | translate }}</label>\r\n                    <input type="number" step="any" class="form-control" id="waistCircumference"\r\n                           [(ngModel)]="param.waistCircumference" name="waistCircumference">\r\n                    <label>BMI: {{ param.weight / (param.length / 100.0 * param.length / 100.0) | number:\'1.0-0\' }}</label>\r\n                  </ng-template>\r\n                </ngb-panel>\r\n              </div>\r\n              <ngb-panel title={{selectToday()}}>\r\n                <ng-template ngbPanelContent>\r\n                  <label for="nLength">{{ \'DIET.DETAIL.PARAMS.LENGTH\' | translate }}</label>\r\n                  <input type="number" class="form-control" id="nLength"\r\n                         [(ngModel)]="param.length" name="nLength">\r\n                  <label for="weight">{{ \'DIET.DETAIL.PARAMS.WEIGHT\' | translate }}</label>\r\n                  <input type="number" step="any" class="form-control" id="nWeight"\r\n                         [(ngModel)]="param.weight" name="nWeight">\r\n                  <label for="nBodyFat">{{ \'DIET.DETAIL.PARAMS.BODY_FAT\' | translate }}</label>\r\n                  <input type="number" step="any" class="form-control" id="nBodyFat"\r\n                         [(ngModel)]="param.bodyFat" name="nBodyFat">\r\n                  <label for="nWaistCircumference">{{ \'DIET.DETAIL.PARAMS.WAIST\' | translate }}</label>\r\n                  <input type="number" step="any" class="form-control" id="nWaistCircumference"\r\n                         [(ngModel)]="param.waistCircumference" name="nWaistCircumference">\r\n                  <button class="btn btn-outline-primary" (click)="addParam()">{{ \'DIET.DETAIL.PARAMS.ADD\' | translate }}</button>\r\n                </ng-template>\r\n              </ngb-panel>\r\n            </ngb-accordion>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="col-md-4">\r\n      <div class="card">\r\n        <h4 class="card-header">{{ \'DIET.DETAIL.EXTRA_INFO\' | translate }}</h4>\r\n        <div class="card-body">\r\n          <div class="form-group">\r\n            <label for="extraInfo">{{ \'DIET.DETAIL.EXTRA_INFO\' | translate }}</label>\r\n            <textarea type="text" class="form-control" id="extraInfo" rows="8"\r\n                      [(ngModel)]="patient.extraInfo" name="extraInfo"></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <app-account [customer]="patient" [suffix]="\'@patient.com\'"></app-account>\r\n    </div>\r\n  </div>\r\n  <div class="row">\r\n    <button type="button" class="btn btn-secondary" (click)="goBack(content)">\r\n      {{ \'DIET.DETAIL.RETURN\' | translate }}\r\n    </button>\r\n    <button type="button" class="btn btn-success" (click)="save()">\r\n      {{ \'DIET.DETAIL.SAVE\' | translate }}\r\n      <span class="badge badge-pill badge-danger" *ngIf="isPatientModified()">*</span>\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #content let-c="close" let-d="dismiss">\r\n  <div class="modal-header">\r\n    <h4 class="modal-title">{{ \'DIET.DETAIL.ATTENTION\' | translate }}</h4>\r\n    <button type="button" class="close" aria-label="Close" (click)="c(\'Cross click\')">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class="modal-body">\r\n    <p>{{ \'DIET.DETAIL.PATIENT_MODIFIED\' | translate }}</p>\r\n  </div>\r\n  <div class="modal-footer">\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Cancel\')">\r\n      {{ \'DIET.DETAIL.CANCEL\' | translate }}\r\n    </button>\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Return\')">\r\n      {{ \'DIET.DETAIL.RETURN_WITHOUT_SAVING\' | translate }}\r\n    </button>\r\n  </div>\r\n</ng-template>\r\n'},JRwR:function(t,e){t.exports='<div *ngIf="selectedProduct" id="product">\r\n  <div class="container">\r\n    <div class="row">\r\n      <h5 class="mx-auto">\r\n        <span class="fa" aria-hidden="true" (click)="onFavChanged()"\r\n              [class.fa-heart]="selectedProduct.favorite" [class.fa-heart-o]="!selectedProduct.favorite"></span>\r\n        {{selectedProduct.name}}</h5>\r\n    </div>\r\n\r\n    <div class="row mt-2">\r\n\r\n      <div *ngIf="selectedProduct.micros" class="col-md-6">\r\n        <img src="{{selectedProduct.imgUrl}}" alt="{{ \'FOOD.SEARCH.NO_IMG\' | translate }}" id="product-img">\r\n        <div *ngIf="selectedProduct.units">\r\n          <h6 class="mt-2 mb-2 text-muted">{{ \'FOOD.SEARCH.UNITS\' | translate }}</h6>\r\n          <ul>\r\n            <li *ngFor="let nutriment of selectedProduct.units">\r\n              <p>{{nutriment.name + \' \' + nutriment.value + \' \' + nutriment.unit}}</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <h6 class="mb-2 text-muted">{{ \'FOOD.SEARCH.MICROS\' | translate }}</h6>\r\n        <ul>\r\n          <li *ngFor="let nutriment of selectedProduct.micros">\r\n            <p>{{nutriment.name + \' \' + nutriment.value + \' \' + nutriment.unit}}</p>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div *ngIf="selectedProduct.macros" class="col-md-6">\r\n        <h6 class="mb-2 text-muted">{{ \'FOOD.SEARCH.MACROS\' | translate }}</h6>\r\n        <ul>\r\n          <li *ngFor="let nutriment of selectedProduct.macros">\r\n            <p>{{nutriment.name + \' \' + nutriment.value + \' \' + nutriment.unit}}</p>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\x3c!--<div *ngIf="selectedProduct" class="card">\r\n  <div class="card-body">\r\n    <div class="container">\r\n      <div class="row">\r\n        <h5 class="card-title">\r\n          <span class="fa" aria-hidden="true" (click)="onFavChanged()"\r\n                [class.fa-heart]="selectedProduct.favorite" [class.fa-heart-o]="!selectedProduct.favorite"></span>\r\n          {{selectedProduct.name}}</h5>\r\n      </div>\r\n      <div class="row">\r\n        <img src="{{selectedProduct.imgUrl}}" alt="{{ \'FOOD.SEARCH.NO_IMG\' | translate }}" id="product-img" class="col-md-4">\r\n        <div *ngIf="selectedProduct.units" class="col-md-8">\r\n          <h6 class="card-subtitle mb-2 text-muted">{{ \'FOOD.SEARCH.UNITS\' | translate }}</h6>\r\n          <ul>\r\n            <li *ngFor="let nutriment of selectedProduct.units">\r\n              <p class="card-text">{{nutriment.name + \' \' + nutriment.value + \' \' + nutriment.unit}}</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <div class="row">\r\n        <div *ngIf="selectedProduct.macros" class="col-md-6">\r\n          <h6 class="card-subtitle mb-2 text-muted">{{ \'FOOD.SEARCH.MACROS\' | translate }}</h6>\r\n          <ul>\r\n            <li *ngFor="let nutriment of selectedProduct.macros">\r\n              <p class="card-text">{{nutriment.name + \' \' + nutriment.value + \' \' + nutriment.unit}}</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div *ngIf="selectedProduct.micros" class="col-md-6">\r\n          <h6 class="card-subtitle mb-2 text-muted">{{ \'FOOD.SEARCH.MICROS\' | translate }}</h6>\r\n          <ul>\r\n            <li *ngFor="let nutriment of selectedProduct.micros">\r\n              <p class="card-text">{{nutriment.name + \' \' + nutriment.value + \' \' + nutriment.unit}}</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>--\x3e\r\n\r\n<div *ngIf="!selectedProduct">\r\n  <h4 class="text-center">\r\n    {{"FOOD.SEARCH.NOT_SELECTED" | translate}}\r\n  </h4>\r\n</div>\r\n'},KYPa:function(t,e){t.exports='<h4 class="text-center">{{ \'FOOD.SEARCH.TITLE\' | translate }}</h4>\r\n\r\n<form>\r\n  <div class="form-inline mb-2">\r\n    <label for="fav">{{ \'FOOD.FAV.ONLY\' | translate }}</label>\r\n    <input id="fav" type="checkbox" name="fav" class="form-control ml-2" [(ngModel)]="onlyFavs" (change)="onFavChanged()"/>\r\n  </div>\r\n  <div class="form-group row">\r\n    <label for="search" class="col-md-4 col-form-label">{{ \'FOOD.SEARCH.NAME\' | translate }}</label>\r\n    <div class="col-md-8">\r\n      <input #input="ngModel" id="search" type="text" name="search" class="form-control"\r\n             [(ngModel)]="name" placeholder="{{ \'FOOD.SEARCH.NAME_PLACEHOLDER\' | translate }}"\r\n             [disabled]="onlyFavs"/>\r\n    </div>\r\n  </div>\r\n  <div class="form-group row">\r\n    <label for="size" class="col-md-4 col-form-label">{{ \'FOOD.SEARCH.SIZE\' | translate }}</label>\r\n    <div class="col-md-8">\r\n      <select class="form-control" id="size" name="size" [(ngModel)]="productsPaging.size" (change)="sizeChanged()">\r\n        <option>5</option>\r\n        <option>8</option>\r\n        <option>10</option>\r\n        <option>15</option>\r\n        <option>20</option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n</form>\r\n\r\n<hr>\r\n<h5 class="mb-2 text-muted">{{ \'FOOD.SEARCH.PRODUCTS\' | translate }}</h5>\r\n<div *ngIf="searching && productsPaging && productsPaging.numberOfElements == 0">\r\n  <p class="">{{ \'FOOD.SEARCH.SEARCHING\' | translate }}</p>\r\n</div>\r\n<div *ngIf="searchFailed" class="bg-danger">\r\n  <p class="">{{ \'FOOD.SEARCH.ERROR_SEARCHING\' | translate }}</p>\r\n</div>\r\n<div *ngIf="productsPaging" class="card">\r\n  <div *ngIf="productsPaging.numberOfElements > 0">\r\n    <ul class="list-group list-group-flush" >\r\n      <div *ngIf="enableDragDrop">\r\n        <li class="list-group-item list-group-item-action product-holder" [dragClass]="\'drag-over\'"\r\n            [draggable] *ngFor="let product of productsPaging.content" [dragData]="product">\r\n          <h6>{{product.name.slice(0, product.name.indexOf("-"))}}</h6>\r\n          <blockquote class="blockquote"\r\n                      *ngIf="product.name.slice(product.name.indexOf(\'-\') + 1, product.name.lastIndexOf(\'-\'))">\r\n            <footer class="blockquote-footer">\r\n              <cite title="Source Title">\r\n                {{product.name.slice(product.name.indexOf("-") + 1, product.name.lastIndexOf("-"))}}\r\n              </cite>\r\n            </footer>\r\n          </blockquote>\r\n        </li>\r\n      </div>\r\n\r\n      <div *ngIf="!enableDragDrop">\r\n        <li class="list-group-item product-holder " *ngFor="let product of productsPaging.content"\r\n            [class.active]="(selectedProduct ? selectedProduct.id : 0) === product.id" (click)="selectProduct(product)">\r\n          <h6>{{product.name.slice(0, product.name.indexOf("-"))}}</h6>\r\n          <blockquote class="blockquote"\r\n                      *ngIf="product.name.slice(product.name.indexOf(\'-\') + 1, product.name.lastIndexOf(\'-\'))">\r\n            <footer class="blockquote-footer">\r\n              <cite title="Source Title">\r\n                {{product.name.slice(product.name.indexOf("-") + 1, product.name.lastIndexOf("-"))}}\r\n              </cite>\r\n            </footer>\r\n          </blockquote>\r\n        </li>\r\n      </div>\r\n    </ul>\r\n    <div class="card-footer">\r\n      <ngb-pagination [pageSize]="productsPaging.size" [collectionSize]="productsPaging.totalElements"\r\n                      [(page)]="productsPaging.number" (pageChange)="pageChanged($event)" [rotate]="true"\r\n                      aria-label="Default pagination" [maxSize]="5" [ellipses]="false"></ngb-pagination>\r\n    </div>\r\n  </div>\r\n  <div *ngIf="productsPaging.numberOfElements === 0" class="card-body">\r\n    <p class="">{{ \'FOOD.SEARCH.EMPTY\' | translate }}</p>\r\n  </div>\r\n</div>\r\n'},L4YV:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"#dpChange{position:absolute;left:0;top:45px;z-index:1}.custom-day{text-align:center;padding:.185rem .25rem;border-radius:.25rem;display:inline-block;width:2rem}.custom-day.focused,.custom-day:hover{background-color:#e6e6e6}.contains-menu{background-color:#f0ad4e;border-radius:1rem;color:#fff}.hidden{display:none}",""]),t.exports=t.exports.toString()},LmeB:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},OjpT:function(t,e){t.exports='<div *ngIf="!selectedPatient">\r\n  {{"MENU.PATIENT_BEFORE" | translate}}\r\n</div>\r\n<div *ngIf="!selectedMenu && selectedPatient">\r\n  {{"MENU.LOADING" | translate}}\r\n</div>\r\n<div class="container-fluid" *ngIf="selectedMenu">\r\n  <div class="row">\r\n    <h3>\r\n      {{"MENU.OF" | translate}} {{getFormattedDate(selectedMenu.date)}}\r\n      <span *ngIf="selectedMenu.id === 0" class="badge badge-secondary">{{"MENU.NEW" | translate}}</span>\r\n    </h3>\r\n    <form class="form-inline ml-2">\r\n      <div class="form-group">\r\n        <div class="input-group">\r\n          <input class="form-control" placeholder="yyyy-mm-dd" readonly type="text" id="date" name="date"\r\n                 [dayTemplate]="customDay" ngbDatepicker #d="ngbDatepicker"\r\n                 [(ngModel)]="selectedMenu.date" (navigate)="onDateNavigated($event)" (ngModelChange)="onDateChanged()">\r\n\r\n          <ng-template #customDay let-date="date" let-currentMonth="currentMonth" let-selected="selected"\r\n                       let-disabled="disabled" let-focused="focused">\r\n          <span class="custom-day" [class.contains-menu]="containsMenu(date)" [class.focused]="focused"\r\n                [class.bg-primary]="selected" [class.hidden]="date.month !== currentMonth" [class.text-muted]="disabled">\r\n            {{ date.day }}\r\n          </span>\r\n          </ng-template>\r\n\r\n          <div class="input-group-append">\r\n            <button class="btn btn-outline-secondary" (click)="d.toggle()" type="button">\r\n              <img src="../../../../assets/img/calendar-icon.svg" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n    <div class="btn-group ml-auto" role="group" aria-label="Basic example">\r\n      <ngb-datepicker id="dpChange" #dp *ngIf="displayChangeDateOfMenu" (select)="onChangeDateOfMenu($event)"></ngb-datepicker>\r\n      <button [disabled]="selectedMenu.id === 0" type="button" class="btn btn-secondary" (click)="openChangeDate()">{{"MENU.NEW_DATE" | translate}}</button>\r\n      <button [disabled]="selectedMenu.id === 0" type="button" class="btn btn-danger" (click)="onDeleteMenu(popupDelete)">{{"MENU.DELETE" | translate}}</button>\r\n    </div>\r\n\r\n  </div>\r\n  <hr>\r\n  <app-meal *ngIf="selectedMenu"\r\n            [selectedMenu]="selectedMenu" [meals]="selectedMenu.meals" [selectedPatient]="selectedPatient">\r\n  </app-meal>\r\n</div>\r\n\r\n<ng-template #popupDelete let-c="close" let-d="dismiss">\r\n  <div class="modal-header">\r\n    <h4 class="modal-title">{{deletePopupStrings.title | translate}}</h4>\r\n    <button type="button" class="close" aria-label="Close" (click)="c(\'Cross click\')">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class="modal-body">\r\n    <p>{{deletePopupStrings.body | translate}}</p>\r\n  </div>\r\n  <div class="modal-footer">\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Cancel\')">\r\n      {{deletePopupStrings.cancel | translate}}\r\n    </button>\r\n    <button type="button" class="btn btn-outline-dark" (click)="c(\'Delete\')">\r\n      {{deletePopupStrings.delete | translate}}\r\n    </button>\r\n  </div>\r\n</ng-template>\r\n'},PYL9:function(t,e){t.exports='<div class="container" *ngIf="diet">\r\n  <h2 class="text-center">{{ \'DIET.DASHBOARD.TITLE\' | translate }} {{diet.firstName + \' \' + diet.lastName}}</h2>\r\n</div>\r\n<div class="container" *ngIf="selectedPatient">\r\n  <div class="row">\r\n    <p>{{ \'DIET.DASHBOARD.SELECTED\' | translate }}{{selectedPatient.firstName}}</p>\r\n    <p>{{ \'DIET.DASHBOARD.CREATED\' | translate }} {{selectedPatient.created | date:"dd/MM/yyyy" }}</p>\r\n    <p>{{getAge()}} {{ \'DIET.DASHBOARD.YEARS_OLD\' | translate }}</p>\r\n  </div>\r\n  <div id="paramChart" class="row" *ngIf="selectedPatient.anthropometricParameters.length > 0">\r\n    <div>\r\n      <canvas baseChart\r\n              [datasets]="barChartData"\r\n              [labels]="barChartLabels"\r\n              [options]="barChartOptions"\r\n              [legend]="barChartLegend"\r\n              [chartType]="barChartType"></canvas>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},QtRZ:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},RXWW:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"#search{padding-right:20px;border-right:1px solid #ccc}",""]),t.exports=t.exports.toString()},RaEo:function(t,e){t.exports='<app-select-customer [customers]="patients" [selectedCustomer]="selectedPatient" [basei18n]="\'DIET\'"\r\n                     (onSelectedCustomer)="onSelectedCustomer($event)" (onAddCustomer)="onAddCustomer()">\r\n\r\n</app-select-customer>\r\n'},SbTK:function(t,e){t.exports='<app-select-customer [customers]="diets" [basei18n]="\'ADMIN\'"\r\n                     (onSelectedCustomer)="onSelectedCustomer($event)" (onAddCustomer)="onAddCustomer()">\r\n\r\n</app-select-customer>\r\n'},SmKr:function(t,e){t.exports="<router-outlet></router-outlet>\r\n"},SxFZ:function(t,e){t.exports="<router-outlet></router-outlet>\r\n"},TClG:function(t,e){t.exports="<p>\r\n  customer works!\r\n</p>\r\n"},VlY0:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},WNfl:function(t,e){t.exports='<div class="container-fluid">\r\n  <div class="row">\r\n    <h2 class="text-center">\r\n      {{"MEALS.TEMPLATE.TITLE" | translate}}\r\n    </h2>\r\n  </div>\r\n  <hr>\r\n  <app-meal [meals]="templateMeals">{{"MEALS.TEMPLATE.LOADING_MEALS" | translate}}</app-meal>\r\n</div>\r\n'},XuaR:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},YAmB:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},YuZA:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="YuZA"},cDNt:function(t,e,n){"use strict";function r(t){return new h.a(t,"/assets/i18n/",".json")}function o(){return localStorage.getItem("token.access_token")}Object.defineProperty(e,"__esModule",{value:!0});var i,s=n("LMZF"),a=n("x8Hs"),c=n("RyBE"),l=n("0WLp"),d=n("0nO6"),u=n("9iV4"),p=n("0rhD"),f=n("q6td"),h=n("kkjc"),m=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},g=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(){function t(t){this.translate=t,this.title="Diet Pro",t.addLangs(["en","fr"]),t.setDefaultLang("en");var e=t.getBrowserLang();t.use(e.match(/en|fr/)?e:"en")}return t=m([Object(s.Component)({selector:"app-root",template:n("efyd"),styles:[n("hxJY")]}),g("design:paramtypes",[f.c])],t)}(),y=n("UHIZ"),v=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},j=[{path:"**",redirectTo:"/login"}],O=function(){function t(){}return t=v([Object(s.NgModule)({imports:[y.c.forRoot(j,{enableTracing:!1})],exports:[y.c]})],t)}(),P=n("AP4T"),D=n("N+n4"),I=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},E=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},R={headers:new u.f({"Content-Type":"application/json"})},A=function(){function t(t,e){this.http=t,this.jwtHelper=e,this.idUrl="api/auth/id",this.loginUrl="api/auth/login",this.signupUrl="api/auth/signup",this.connectedUserUrl="api/auth/connecteduser",this.roleUrl="api/auth/role",this._token=JSON.parse(localStorage.getItem("token"))}return t.prototype.onSignup=function(t){return this.http.post(this.signupUrl,t,R)},t.prototype.onLogin=function(t){var e=this;return new P.Observable(function(n){e.http.post(e.loginUrl,t,R).subscribe(function(t){console.log("AuthService: user is logged on %s",t.access_token),e._token=t,localStorage.setItem("token",JSON.stringify(e._token)),e.initRole().subscribe(function(t){e._role=t,n.next(e._role),n.complete()},function(t){n.error(t)})},function(t){console.log("AuthService error in logging on - code:%s  msg:%s",t.status,t.message),n.error(t)})})},t.prototype.onLogout=function(){this._id=null,localStorage.removeItem("token")},t.prototype.isAuthenticated=function(){return null!=this._token&&(console.log("Expiration date of token: %s",this.jwtHelper.getTokenExpirationDate(this._token.access_token)),!this.jwtHelper.isTokenExpired(this._token.access_token))},t.prototype.getConnectedUser=function(){return this.http.get(this.connectedUserUrl,R)},t.prototype.initRole=function(){return this.http.get(this.roleUrl,R)},Object.defineProperty(t.prototype,"id",{get:function(){var t=this;return new P.Observable(function(e){Object(D.isNullOrUndefined)(t._id)?t.http.get(t.idUrl,R).subscribe(function(n){console.log("AuthService: id of the user is %s",n),t._id=n,e.next(t._id),e.complete()},function(t){console.log("AuthService error in getting id on - code:%s  msg:%s",t.status,t.message),e.error(t)}):(e.next(t._id),e.complete())})},enumerable:!0,configurable:!0}),t.prototype.getRole=function(){var t=this;return new P.Observable(function(e){Object(D.isNullOrUndefined)(t._role)?t.initRole().subscribe(function(n){t._role=n,e.next(t._role),e.complete()},function(t){e.error(t)}):(e.next(t._role),e.complete())})},Object.defineProperty(t.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),t.prototype.getAuthorizationHeader=function(){return"Bearer "+(this.isAuthenticated()?this._token.access_token:0)},t=I([Object(s.Injectable)(),E("design:paramtypes",[u.b,p.a])],t)}();!function(t){t.PATIENT="PATIENT",t.ADMIN="ADMIN",t.DIET="DIET"}(i||(i={}));var C,T=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},M=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},S=function(){function t(t,e){this.authService=t,this.router=e}return t.prototype.canActivate=function(t,e){var n=this;return this.authService.isAuthenticated()?new P.Observable(function(t){n.authService.getRole().subscribe(function(r){var o=r==i.PATIENT;t.next(o),o||n.router.navigate(["/login"],{queryParams:{ret:e.url}}),t.complete()},function(e){t.error(e)})}):(this.router.navigate(["/login"],{queryParams:{ret:e.url}}),!1)},t=T([Object(s.Injectable)(),M("design:paramtypes",[A,y.b])],t)}(),w=(n("ivSB"),n("HT7u"),this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}),x=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_=function(){function t(t){this.injector=t,this.regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,})(Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/}return t.prototype.intercept=function(t,e){if(this.authService=this.injector.get(A),this.authService.isAuthenticated()){var n=this.authService.getAuthorizationHeader(),r=t.clone({headers:t.headers.set("Authorization",n)});return this.logAndConvertDate(r,e)}return this.logAndConvertDate(t,e)},t.prototype.logAndConvertDate=function(t,e){var n=this,r=Date.now();return e.handle(t).do(function(e){if(e instanceof u.i){n.convertDateStringsToDates(e.body);var o=Date.now()-r;console.log("Request for "+t.urlWithParams+" took "+o+" ms.")}})},t.prototype.convertDateStringsToDates=function(t){if("object"!=typeof t)return t;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e],r=void 0;if("string"==typeof n&&(r=n.match(this.regexIso8601))){var o=Date.parse(r[0]);isNaN(o)||"number"===e||"vat"===e||(t[e]=new Date(o))}else"object"==typeof n&&this.convertDateStringsToDates(n)}},t=w([Object(s.Injectable)(),x("design:paramtypes",[s.Injector])],t)}(),k=n("Un6q"),N=n("WAKQ"),L=n("GZB0"),U=n("GROE"),F=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Y=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},z={headers:new u.f({"Content-Type":"application/json"})},B=function(){function t(t,e){this.http=t,this.jwtHelper=e,this.patientUrl="api/patient/",this.patientByDietUrl="api/patient/dietetist/",this._token=JSON.parse(localStorage.getItem("token"))}return t.prototype.getPatientsOfDiet=function(t){return this.http.get(this.patientByDietUrl+t,z)},t.prototype.getPatient=function(t){return this.http.get(this.patientUrl+t,z).pipe(Object(U.a)(this.handleError("getPatient")))},t.prototype.savePatient=function(t){return this.http.post(this.patientUrl,t,z)},Object.defineProperty(t.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),t.prototype.handleError=function(t,e){return void 0===t&&(t="operation"),function(t){return console.error(t),Object(L.a)(e)}},t=F([Object(s.Injectable)(),Y("design:paramtypes",[u.b,p.a])],t)}(),H=n("eoFs"),G=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},W=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},q=function(){function t(){this.dietetist=new H.a(null),this.dietetist$=this.dietetist.asObservable(),this.patient=new H.a(null),this.patient$=this.patient.asObservable()}return t.prototype.setDietetist=function(t){this.dietetist.next(t)},t.prototype.setPatient=function(t){this.patient.next(t)},t=G([Object(s.Injectable)(),W("design:paramtypes",[])],t)}();!function(t){t.MALE="MALE",t.FEMALE="FEMALE",t.OTHER="OTHER"}(C||(C={}));var V=function(){return function(){this.city="",this.country="",this.id=0,this.number="",this.postcode=0,this.street=""}}(),Z=function(){return function(){this.authId="",this.birthday=new Date,this.created=new Date,this.email="",this.firstName="",this.gender=C.OTHER,this.id=0,this.lastName="",this.middleName="",this.phone="",this.address=new V}}(),Q=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.extraInfo="",e.anthropometricParameters=[],e.dietetistId=0,e}return Q(e,t),e}(Z),J=function(){return function(){this.id=0,this.length=0,this.weight=0,this.bodyFat=0,this.waistCircumference=0,this.date=new Date,this.patientId=0}}(),X=n("xrDH"),$=n("ge1L"),tt=n("qLnt"),et=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},nt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},rt=new Date,ot=function(){function t(t,e,n,r,o){this.translate=t,this.dietService=e,this.sharedService=n,this.location=r,this.modalService=o,this.isAddPatient=!1,this.subscriptions=new tt.a,this.alerts=[],this.alertCounter=0}return t.prototype.ngOnInit=function(){this.location.path().indexOf("detail")>=0?this.initDetailPatient():this.location.path().indexOf("add")>=0&&this.initAddPatient()},t.prototype.initAddPatient=function(){this.param=new J,this.patient=new K,this.isAddPatient=!0},t.prototype.initDetailPatient=function(){var t=this;this.subscriptions.add(this.sharedService.patient$.subscribe(function(e){Object(D.isNullOrUndefined)(e)||(t.patient=e,t.param=new J,t.initPatientBackup())}))},t.prototype.initPatientBackup=function(){this.copyPatient=X.cloneDeep(this.patient)},t.prototype.selectToday=function(){return"Today: "+rt.getUTCFullYear()+"-"+(rt.getUTCMonth()+1)+"-"+rt.getUTCDate()},t.prototype.getFormattedDate=function(t){return $(t).format("DD/MM/YYYY")},t.prototype.isPatientModified=function(){return!X.isEqual(this.copyPatient,this.patient)},t.prototype.addParam=function(){this.param.date=rt,console.log(rt),this.param.id=void 0,this.param.patientId=this.patient.id,this.patient.anthropometricParameters.push(this.param),this.param=new J},t.prototype.goBack=function(t){var e=this;this.isPatientModified()?this.modalService.open(t).result.then(function(t){"Cancel"===t?console.log("Stay here"):"Return"===t&&(X.merge(e.patient,e.copyPatient),e.location.back())}):this.location.back()},t.prototype.closeAlert=function(t){var e=this.alerts.indexOf(t);this.alerts.splice(e,1)},t.prototype.closeAlertWithId=function(t){var e=this.alerts.find(function(e){return e.id==t}),n=this.alerts.indexOf(e);this.alerts.splice(n,1)},t.prototype.save=function(){var t=this;this.alerts.push({id:this.alertCounter,type:"secondary",message:"DIET.DETAIL.ALERT.SAVING",subMessage:this.patient.firstName}),setTimeout(function(e){t.closeAlertWithId(e)},1500,this.alertCounter++),console.log(this.patient),this.dietService.savePatient(this.patient).subscribe(function(e){t.isAddPatient&&(t.patient=X.merge(t.patient,e),t.subscriptions.add(t.sharedService.dietetist$.subscribe(function(e){Object(D.isNullOrUndefined)(e)||e.patients.push(t.patient)})),t.isAddPatient=!1),t.initPatientBackup(),t.alerts.push({id:t.alertCounter,type:"success",message:"DIET.DETAIL.ALERT.SAVED",subMessage:t.patient.firstName}),setTimeout(function(e){t.closeAlertWithId(e)},1500,t.alertCounter++)},function(e){console.log("Error"),console.log(e),t.alerts.push({id:t.alertCounter,type:"danger",message:"DIET.DETAIL.ALERT.ERROR",subMessage:t.patient.firstName}),setTimeout(function(e){t.closeAlertWithId(e)},1500,t.alertCounter++)})},t.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},t=et([Object(s.Component)({selector:"app-detail-patient",template:n("H+Hb"),styles:[n("VlY0")]}),nt("design:paramtypes",[f.c,B,q,k.Location,l.c])],t)}(),it=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},st=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},at=function(){function t(t,e){this.translate=t,this.sharedService=e,this.subscriptions=new tt.a,this.barChartOptions={scaleShowVerticalLines:!1,responsive:!0},this.barChartLabels=["Length","Weight"],this.barChartType="bar",this.barChartLegend=!0,this.barChartData=[{data:[180,95],label:"12 Nov 2017"},{data:[181,90],label:"12 Dec 2017"}]}return t.prototype.ngOnInit=function(){var t=this;this.subscriptions.add(this.sharedService.dietetist$.subscribe(function(e){t.diet=e})),this.subscriptions.add(this.sharedService.patient$.subscribe(function(e){if(!Object(D.isNullOrUndefined)(e)){t.selectedPatient=e;for(var n=0,r=t.selectedPatient.anthropometricParameters;n<r.length;n++)r[n]}}))},t.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},t.prototype.getAge=function(){return $().diff(this.selectedPatient.birthday,"years",!1)},t=it([Object(s.Component)({selector:"app-diet-dashboard",template:n("PYL9"),styles:[n("zYgw")]}),st("design:paramtypes",[f.c,q])],t)}(),ct=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dt=function(){function t(t,e,n){this.translate=t,this.sharedService=e,this.router=n,this.subscriptions=new tt.a}return t.prototype.ngOnInit=function(){var t=this;this.subscriptions.add(this.sharedService.dietetist$.subscribe(function(e){Object(D.isNullOrUndefined)(e)||(t.patients=e.patients)})),this.subscriptions.add(this.sharedService.patient$.subscribe(function(e){t.selectedPatient=e}))},t.prototype.onSelectedCustomer=function(t){this.router.navigate(["diet",{patientId:t.id}])},t.prototype.onAddCustomer=function(){this.router.navigate(["diet/add-patient"])},t.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},t=ct([Object(s.Component)({selector:"app-select-patient",template:n("RaEo"),styles:[n("eFug")]}),lt("design:paramtypes",[f.c,q,y.b])],t)}(),ut=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ft=function(){function t(t,e){this.authService=t,this.router=e}return t.prototype.canActivate=function(t,e){var n=this;return this.authService.isAuthenticated()?new P.Observable(function(t){n.authService.getRole().subscribe(function(r){var o=r==i.DIET;t.next(o),o||n.router.navigate(["/login"],{queryParams:{ret:e.url}}),t.complete()},function(e){t.error(e)})}):(this.router.navigate(["/login"],{queryParams:{ret:e.url}}),!1)},t=ut([Object(s.Injectable)(),pt("design:paramtypes",[A,y.b])],t)}(),ht=(n("RSzd"),this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}),mt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gt=function(){function t(t,e,n,r,o){this.dietService=t,this.sharedService=e,this.authService=n,this.router=r,this.route=o,this._opened=!0,this.foodItemItem={img:"../../assets/img/food.ico",title:"NAV.FOOD_SEARCH",routerLink:"/diet/food",subMenus:[]},this.dashboardItem={img:"../../assets/img/dashboard.png",title:"NAV.DASHBOARD",routerLink:"/diet/dashboard",subMenus:[]},this.menuItem={img:"../../assets/img/menu.png",title:"NAV.MENU.TITLE",routerLink:"/diet/menu",subMenus:[{img:"../../assets/img/meal-template.png",title:"NAV.MENU.TEMPLATE",routerLink:"/diet/menu/template",subMenus:[]}]},this.aboutPatientItem={img:"../../assets/img/about.ico",title:"NAV.PATIENT.ABOUT",routerLink:"/diet/detail-patient",subMenus:[]},this.selectPatientItem={img:"../../assets/img/select-patient.png",title:"NAV.PATIENT.SELECT",routerLink:"/diet/select-patient",subMenus:[]},this.patientItem={img:"../../assets/img/patient.png",title:"NAV.PATIENT.TITLE",routerLink:"/diet/select-patient",subMenus:[this.selectPatientItem]},this.navItems=[],this.subscriptions=new tt.a}return t.prototype.ngOnInit=function(){this.initDiet(),this.initPatient(),this.initNavItems()},t.prototype.initPatient=function(){var t=this;this.route.params.subscribe(function(e){var n=+e.patientId;n>0?t.dietService.getPatient(n).subscribe(function(e){Object(D.isNullOrUndefined)(e)?console.log("Error with data: ",e):(t.subscriptions.unsubscribe(),t.selectedPatient=e,t.addPatientNav(),t.sharedService.setPatient(t.selectedPatient),console.log("Getting data: ",e))},function(t){console.log(t),t instanceof u.d?console.log("Http error"):console.log("Not a http error")}):t.subscriptions.add(t.sharedService.patient$.subscribe(function(e){!Object(D.isNullOrUndefined)(e)&&Object(D.isNullOrUndefined)(t.selectedPatient)&&(t.selectedPatient=e)}))})},t.prototype.addPatientNav=function(){this.patientItem.subMenus.indexOf(this.aboutPatientItem)<=0&&this.patientItem.subMenus.push(this.aboutPatientItem),this.patientItem.routerLink=this.aboutPatientItem.routerLink},t.prototype.initDiet=function(){var t=this;this.authService.getConnectedUser().subscribe(function(e){t.diet=e,t.sharedService.setDietetist(e)},function(t){console.log("Error trying to get the connected user")})},t.prototype.initNavItems=function(){this.navItems.push(this.dashboardItem),this.navItems.push(this.foodItemItem),this.navItems.push(this.menuItem),this.navItems.push(this.patientItem)},t.prototype._toggleSidebar=function(){this._opened=!this._opened},t.prototype.navItemClicked=function(t){console.log("Navigate to %s",t.routerLink),this.router.navigate([t.routerLink])},t=ht([Object(s.Component)({selector:"app-diet",template:n("6+Kx"),styles:[n("8+tS")]}),mt("design:paramtypes",[B,q,A,y.b,y.a])],t)}(),bt=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},yt=function(){function t(){}return t=bt([Object(s.Component)({selector:"app-food",template:n("SmKr"),styles:[n("mV+r")]})],t)}(),vt=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ot={headers:new u.f({"Content-Type":"application/json"})},Pt=function(){function t(t){this.http=t,this.productUrl="api/product",this.productSizeUrl="api/product/size",this.productPurgeUrl="api/product/purge",this.productBatchUrl="api/product/batch/upload",this.productFavAdd="api/product/fav/add",this.productFavRemove="api/product/fav/remove",this.productFavList="api/product/fav/"}return t.prototype.getProducts=function(t,e,n,r){var o=(new u.g).set("name",t).set("lang",e).set("page",n.toString()).set("size",r.toString());return this.http.get(this.productUrl,{headers:Ot.headers,params:o})},t.prototype.getFavProducts=function(t,e,n,r){var o=(new u.g).set("dietId",r.toString()).set("lang",t).set("page",e.toString()).set("size",n.toString());return this.http.get(this.productFavList,{headers:Ot.headers,params:o})},t.prototype.getProduct=function(t,e,n){void 0===n&&(n=0);var r=(new u.g).set("lang",e).set("dietId",n.toString());return this.http.get(this.productUrl+"/"+t,{headers:Ot.headers,params:r})},t.prototype.addProductToFav=function(t,e){return this.http.post(this.productFavAdd,{headers:Ot.headers,diet_id:t,prod_id:e})},t.prototype.removeProductToFav=function(t,e){return this.http.post(this.productFavRemove,{headers:Ot.headers,diet_id:t,prod_id:e})},t.prototype.batch=function(t){var e=new FormData;e.append("file",t);var n=new u.h("POST",this.productBatchUrl,e,{reportProgress:!0,responseType:"text"});return this.http.request(n)},t.prototype.purgeProducts=function(){return this.http.delete(this.productPurgeUrl,Ot)},t.prototype.deleteProduct=function(t){return this.http.delete(this.productUrl+"/"+t,Ot)},t.prototype.getSize=function(){return this.http.get(this.productSizeUrl,Ot)},t=vt([Object(s.Injectable)(),jt("design:paramtypes",[u.b])],t)}(),Dt=function(){return function(t){void 0===t&&(t=0),this.content=[],this.first=!1,this.last=!1,this.number=0,this.numberOfElements=0,this.size=0,this.sort="",this.totalElements=0,this.totalPages=0,this.size=t}}(),It=(n("Wy0q"),n("ABGK"),this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}),Et=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Rt=function(){function t(t,e,n){this.foodService=t,this.translate=e,this.authService=n,this.name="",this.productsPaging=new Dt(5),this.onSelectedProduct=new s.EventEmitter,this.enableDragDrop=!1,this.searching=!1,this.searchFailed=!1,this.onlyFavs=!1}return t.prototype.ngOnInit=function(){var t=this;this.findProducts(),this.translate.onLangChange.subscribe(function(e){t.findProducts()})},t.prototype.ngAfterViewInit=function(){var t=this;this.input.update.debounceTime(200).distinctUntilChanged().subscribe(function(e){t.productsPaging.number=1,t.findProducts()})},t.prototype.findProducts=function(){var t=this;this.searching=!0,this.searchFailed=!1,this.onlyFavs?this.authService.id.subscribe(function(e){t.foodService.getFavProducts(t.translate.currentLang,t.productsPaging.number-1,t.productsPaging.size,e).subscribe(function(e){e.number++,t.productsPaging=e},function(e){console.log(e),t.searchFailed=!0},function(){t.searching=!1})}):this.foodService.getProducts(this.name,this.translate.currentLang,this.productsPaging.number-1,this.productsPaging.size).subscribe(function(e){e.number++,t.productsPaging=e},function(e){console.log(e),t.searchFailed=!0},function(){t.searching=!1})},t.prototype.selectProduct=function(t){var e=this;this.selectedProduct=t,this.authService.id.subscribe(function(n){e.foodService.getProduct(t.id,e.translate.currentLang,n).subscribe(function(t){e.selectedProduct=t,e.onSelectedProduct.emit(e.selectedProduct)},function(e){console.log("Cannot find product with id: "+t.id)})},function(t){return console.log("Error getting id")})},t.prototype.onFavChanged=function(){this.productsPaging.number=1,this.findProducts()},t.prototype.pageChanged=function(t){this.findProducts()},t.prototype.sizeChanged=function(){this.productsPaging.number=1,this.findProducts()},It([Object(s.ViewChild)("input"),Et("design:type",Object)],t.prototype,"input",void 0),It([Object(s.Output)(),Et("design:type",Object)],t.prototype,"onSelectedProduct",void 0),It([Object(s.Input)(),Et("design:type",Boolean)],t.prototype,"enableDragDrop",void 0),t=It([Object(s.Component)({selector:"app-search-food",template:n("KYPa"),styles:[n("noSp")]}),Et("design:paramtypes",[Pt,f.c,A])],t)}(),At=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ct=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Tt=function(){function t(){}return t.prototype.ngOnInit=function(){},t.prototype.onSelectedProduct=function(t){this.selectedProduct=t},t=At([Object(s.Component)({selector:"app-home",template:n("kqZZ"),styles:[n("RXWW")]}),Ct("design:paramtypes",[])],t)}(),Mt=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},St=[{path:"",component:yt,canActivate:[ft],children:[{path:"",component:Tt,canActivate:[ft]},{path:"search",component:Rt,canActivate:[ft]}]}],wt=function(){function t(){}return t=Mt([Object(s.NgModule)({imports:[y.c.forChild(St)],exports:[y.c]})],t)}(),xt=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_t=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},kt=function(){function t(t,e,n){this.translate=t,this.authService=e,this.router=n,this.navItemClicked=new s.EventEmitter,this.oldDisplay="",this.displayType="menu",this.selectedLang="en"}return t.prototype.ngOnInit=function(){var t=this;this.selectedLang=this.translate.currentLang,this.navItems.forEach(function(e){t.router.url===e.routerLink&&(t.activeNavItem=e,t.activeNavItem.subMenus.length>0&&(t.displayType="submenu"))})},t.prototype.onSettingsCogClick=function(){"settings"!=this.displayType&&(this.oldDisplay=this.displayType,this.displayType="settings")},t.prototype.onBackClick=function(){"settings"==this.displayType&&""!=this.oldDisplay?this.displayType=this.oldDisplay:this.displayType="menu"},t.prototype.onNavigate=function(t){this.activeNavItem=t,this.activeNavItem.subMenus.length>0&&(this.displayType="submenu"),this.navItemClicked.emit(t)},t.prototype.onSubNavigate=function(t){this.navItemClicked.emit(t)},t.prototype.onChangeLang=function(t){this.translate.use(t)},t.prototype.onLogout=function(){this.authService.onLogout(),this.router.navigateByUrl("/login")},t.prototype.isActive=function(t){return this.activeNavItem==t},xt([Object(s.Input)(),_t("design:type",Array)],t.prototype,"navItems",void 0),xt([Object(s.Output)(),_t("design:type",Object)],t.prototype,"navItemClicked",void 0),t=xt([Object(s.Component)({selector:"app-navbar",template:n("GvUu"),styles:[n("h+s7")]}),_t("design:paramtypes",[f.c,A,y.b])],t)}(),Nt=n("/TZU"),Lt=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ut=function(){function t(){}return t=Lt([Object(s.NgModule)({imports:[k.CommonModule,y.c,d.a,l.d,f.b,Nt.NgDragDropModule.forRoot()],providers:[f.c],declarations:[kt],exports:[kt,f.b,Nt.NgDragDropModule]})],t)}(),Ft=function(){return function(){this.id=0,this.favorite=!1,this.name="",this.imgUrl="",this.units=[],this.macros=[],this.micros=[]}}(),Yt=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},zt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bt=function(){function t(t,e,n){this.foodService=t,this.translate=e,this.authService=n}return t.prototype.ngOnInit=function(){},t.prototype.onFavChanged=function(){var t=this;this.selectedProduct.favorite=!this.selectedProduct.favorite,this.authService.id.subscribe(function(e){console.log(e),t.selectedProduct.favorite?t.foodService.addProductToFav(e,t.selectedProduct.id).subscribe(function(t){return console.log("Added to fav")},function(t){console.log("Err fav: ",t)}):t.foodService.removeProductToFav(e,t.selectedProduct.id).subscribe(function(t){return console.log("Removed from fav")},function(t){console.log("Err fav: ",t)})})},Yt([Object(s.Input)(),zt("design:type",Ft)],t.prototype,"selectedProduct",void 0),t=Yt([Object(s.Component)({selector:"app-detail-food",template:n("JRwR"),styles:[n("sUMo")]}),zt("design:paramtypes",[Pt,f.c,A])],t)}(),Ht=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Gt=function(){function t(){}return t=Ht([Object(s.NgModule)({imports:[k.CommonModule,d.a,l.d,wt,Ut],declarations:[yt,Rt,Bt,Tt],exports:[yt,Rt],providers:[Pt,ft]})],t)}(),Wt=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},qt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vt=function(){function t(){}return t.prototype.ngOnInit=function(){},t=Wt([Object(s.Component)({selector:"app-menu",template:n("SxFZ"),styles:[n("6xcE")]}),qt("design:paramtypes",[])],t)}(),Zt=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Qt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Kt={headers:new u.f({"Content-Type":"application/json"})},Jt=function(){function t(t){this.http=t,this.menuUrl="api/menu/",this.menuDateUrl="api/menu/date/",this.mealUrl="api/meal/",this.mealProductUrl="api/meal/product/",this.mealDietUrl="api/meal/diet/"}return t.prototype.getMenuByDate=function(t,e,n){var r=(new u.g).set("month",t.toString()).set("year",e.toString()).set("patientId",n.toString());return this.http.get(this.menuDateUrl,{headers:Kt.headers,params:r})},t.prototype.getMenuByFullDate=function(t,e){var n=(new u.g).set("patientId",e.toString());return this.http.get(this.menuDateUrl+t,{headers:Kt.headers,params:n})},t.prototype.getMenu=function(t){return this.http.get(this.menuUrl+t,Kt)},t.prototype.deleteMenu=function(t){return this.http.delete(this.menuUrl+t,Kt)},t.prototype.saveMenu=function(t){return this.http.post(this.menuUrl,t,Kt)},t.prototype.getMealByDietId=function(t){return this.http.get(this.mealDietUrl+t,Kt)},t.prototype.deleteMeal=function(t){return this.http.delete(this.mealUrl+t,Kt)},t.prototype.saveMeal=function(t){return this.http.post(this.mealUrl,t,Kt)},t.prototype.deleteMealProduct=function(t){return this.http.delete(this.mealProductUrl+t,Kt)},t.prototype.saveMealProduct=function(t){return this.http.post(this.mealProductUrl,t,Kt)},t=Zt([Object(s.Injectable)(),Qt("design:paramtypes",[u.b])],t)}(),Xt=function(){return function(t){void 0===t&&(t=new Date),this.id=0,this.patientId=0,this.patient=null,this.date=new Date,this.meals=[],this.date=t}}(),$t=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),te=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $t(e,t),e.prototype.fromModel=function(t){return t&&t.getUTCFullYear?{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate()}:null},e.prototype.toModel=function(t){if(Object(D.isNullOrUndefined)(t))return null;var e=new Date;return e.setUTCFullYear(t.year,t.month-1,t.day),e},e=te([Object(s.Injectable)()],e)}(l.a),ne=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ne(e,t),e.prototype.parse=function(t){if(Object(D.isNullOrUndefined)(t))return{year:0,month:0,day:0};var e=t.split("/");if(3!=e.length)return{year:0,month:0,day:0};var n=+e[0],r=+e[1];return{year:+e[2],month:r,day:n}},e.prototype.format=function(t){return Object(D.isNullOrUndefined)(t)?"":t.day+"/"+t.month+"/"+t.year},e=re([Object(s.Injectable)()],e)}(l.b),ie=function(){return function(){this.title="",this.body="",this.cancel="",this.delete=""}}(),se=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ae=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ce=function(){function t(t,e,n,r,o,i){this.service=t,this.foodService=e,this.dietService=n,this.modalService=r,this.sharedService=o,this.translate=i,this.deletePopupStrings=new ie,this.menusOfTheMonth=[],this.subscriptions=new tt.a,this.displayChangeDateOfMenu=!1}return t.prototype.ngOnInit=function(){var t=this;this.subscriptions.add(this.sharedService.patient$.subscribe(function(e){Object(D.isNullOrUndefined)(e)||(t.selectedPatient=e,t.initMenuOfTheDay())}))},t.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},t.prototype.openChangeDate=function(){this.displayChangeDateOfMenu=!this.displayChangeDateOfMenu},t.prototype.initMenuOfTheDay=function(){var t=this;this.service.getMenuByFullDate($().format("YYYY-MM-DD"),this.selectedPatient.id).subscribe(function(e){t.selectedMenu=e,Object(D.isNullOrUndefined)(e)?t.createNewMenu():(t.dietService.getPatient(e.patientId).subscribe(function(e){return t.selectedMenu.patient=e}),t.selectedMenu.meals.forEach(function(e){e.mealProducts.forEach(function(e){t.foodService.getProduct(e.productId,t.translate.currentLang).subscribe(function(t){e.product=t})})}))},function(e){t.createNewMenu()})},t.prototype.onDateNavigated=function(t){var e=this;this.displayChangeDateOfMenu=!1,this.menusOfTheMonth.length=0,this.service.getMenuByDate(t.next.month,t.next.year,this.selectedPatient.id).subscribe(function(t){t.forEach(function(t){e.menusOfTheMonth.push(t)})})},t.prototype.getFormattedDate=function(t){return $(t).format("DD/MM/YYYY")},t.prototype.onChangeDateOfMenu=function(t){var e=this,n=new Xt;n.id=this.selectedMenu.id,n.date.setUTCFullYear(t.year,t.month-1,t.day),n.patientId=this.selectedMenu.patientId,this.service.saveMenu(n).subscribe(function(t){e.selectedMenu.date=t.date},function(t){return console.log(t)})},t.prototype.onDateChanged=function(){var t=this,e=this.menusOfTheMonth.find(function(e){return e.date.getUTCMonth()==t.selectedMenu.date.getUTCMonth()&&e.date.getUTCDate()==t.selectedMenu.date.getUTCDate()&&e.date.getUTCFullYear()==t.selectedMenu.date.getUTCFullYear()});Object(D.isNullOrUndefined)(e)?this.createNewMenu(this.selectedMenu.date):this.takeMenu(e.id)},t.prototype.takeMenu=function(t){var e=this;this.service.getMenu(t).subscribe(function(t){e.selectedMenu=t,e.dietService.getPatient(t.patientId).subscribe(function(t){return e.selectedMenu.patient=t}),e.selectedMenu.meals.forEach(function(t){t.mealProducts.forEach(function(t){e.foodService.getProduct(t.productId,e.translate.currentLang).subscribe(function(e){t.product=e})})})},function(t){return console.log(t)})},t.prototype.onDeleteMenu=function(t){var e=this;this.deletePopupStrings={title:"MENU.DELETE_POPUP.TITLE",body:"MENU.DELETE_POPUP.BODY",cancel:"MENU.DELETE_POPUP.CANCEL",delete:"MENU.DELETE_POPUP.DELETE"},this.modalService.open(t).result.then(function(t){"Cancel"===t?console.log("Stay here"):"Delete"===t&&(0!==e.selectedMenu.id&&e.service.deleteMenu(e.selectedMenu.id).subscribe(function(t){return console.log("Menu removed")},function(t){return console.log("Error while removing men ",t)}),e.createNewMenu())})},t.prototype.containsMenu=function(t){var e=new Date;return e.setUTCFullYear(t.year,t.month-1,t.day),this.menusOfTheMonth.find(function(t){return t.date.getUTCMonth()==e.getUTCMonth()&&t.date.getUTCDate()==e.getUTCDate()&&t.date.getUTCFullYear()==e.getUTCFullYear()})},t.prototype.createNewMenu=function(t){void 0===t&&(t=new Date),this.selectedMenu=new Xt(t),this.selectedMenu.patientId=this.selectedPatient.id},t=se([Object(s.Component)({selector:"app-main",template:n("OjpT"),styles:[n("L4YV")],providers:[{provide:l.a,useClass:ee},{provide:l.b,useClass:oe}]}),ae("design:paramtypes",[Jt,Pt,B,l.c,q,f.c])],t)}(),le=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},de=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ue=function(){function t(t,e,n,r){this.service=t,this.authService=e,this.foodService=n,this.translate=r,this.templateMeals=[]}return t.prototype.ngOnInit=function(){var t=this;this.authService.id.subscribe(function(e){t.service.getMealByDietId(e).subscribe(function(e){t.templateMeals=e,t.templateMeals.forEach(function(e){e.mealProducts.forEach(function(e){t.foodService.getProduct(e.productId,t.translate.currentLang).subscribe(function(t){e.product=t})})})},function(t){return console.log(t)})})},t=le([Object(s.Component)({selector:"app-template",template:n("WNfl"),styles:[n("XuaR")]}),de("design:paramtypes",[Jt,A,Pt,f.c])],t)}(),pe=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},fe=[{path:"",component:Vt,canActivate:[ft],children:[{path:"",component:ce,canActivate:[ft]},{path:"template",component:ue,canActivate:[ft]}]}],he=function(){function t(){}return t=pe([Object(s.NgModule)({imports:[y.c.forChild(fe)],exports:[y.c]})],t)}(),me=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ge=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},be=function(){function t(){}return t.prototype.transform=function(t){var e={};return e[Symbol.iterator]=function(){var e;return ge(this,function(n){switch(n.label){case 0:e=0,n.label=1;case 1:return e<t?[4,++e]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}})},e},t=me([Object(s.Pipe)({name:"times"})],t)}(),ye=function(){return function(){this.id=0,this.mealId=0,this.product=null,this.productId=0,this.quantity=0}}(),ve=function(){return function(){this.id=0,this.menuId=0,this.dietId=0,this.name="",this.extraInfo="",this.comment="",this.score=0,this.mealProducts=[]}}(),je=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Oe=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pe=function(){function t(t,e,n,r,o){this.service=t,this.modalService=e,this.foodService=n,this.authService=r,this.translate=o,this.meals=[],this.templateMeals=[],this.boolean=!1,this.deletePopupStrings=new ie}return t.prototype.ngOnInit=function(){},t.prototype.panelChange=function(t){this.showProducts=t.nextState},t.prototype.checkMealProducts=function(t){var e=this;t.mealProducts.forEach(function(t){Object(D.isNullOrUndefined)(t.product)&&e.foodService.getProduct(t.productId,e.translate.currentLang).subscribe(function(e){t.product=e})})},t.prototype.addMeal=function(t){var e=this;this.meals.push(t),Object(D.isNullOrUndefined)(this.selectedMenu)?this.authService.id.subscribe(function(n){t.dietId=n,e.service.saveMeal(t).subscribe(function(e){t.id=e.id},function(t){return console.log(t)})}):0==this.selectedMenu.id?this.service.saveMenu(this.selectedMenu).subscribe(function(n){e.selectedMenu=X.merge(e.selectedMenu,n),e.meals=e.selectedMenu.meals,e.checkMealProducts(t)},function(t){return console.log(t)}):(t.menuId=this.selectedMenu.id,this.service.saveMeal(t).subscribe(function(n){t.id=n.id,e.checkMealProducts(t)},function(t){return console.log(t)}))},t.prototype.onAddNewMeal=function(){var t=this;this.translate.get("MEALS.NEW_TITLE").subscribe(function(e){var n=new ve;n.name=e,t.addMeal(n)})},t.prototype.onAddFromTemplate=function(t){var e=new ve;e.name=t.name,e.extraInfo=t.extraInfo,t.mealProducts.forEach(function(t){var n=new ye;n.quantity=t.quantity,n.productId=t.productId,e.mealProducts.push(n)}),console.log(e),this.addMeal(e)},t.prototype.onShowTemplateMeals=function(t){var e=this;this.authService.id.subscribe(function(n){e.service.getMealByDietId(n).subscribe(function(n){e.templateMeals=n,e.modalService.open(t).result.then(function(t){"Cancel"===t?console.log("Stay here"):"Select"===t&&console.log("Select template")})},function(t){return console.log(t)})})},t.prototype.onDeleteMeal=function(t,e){var n=this;this.accordion.toggle("panel-"+t.id),this.deletePopupStrings={title:"MEALS.DELETE_POPUP.TITLE",body:"MEALS.DELETE_POPUP.BODY",cancel:"MEALS.DELETE_POPUP.CANCEL",delete:"MEALS.DELETE_POPUP.DELETE"},this.modalService.open(e).result.then(function(e){"Cancel"===e?console.log("Stay here"):"Delete"===e&&(console.log("Delete meal"),0!==t.id&&n.service.deleteMeal(t.id).subscribe(function(e){console.log("Meal removed");var r=n.meals.indexOf(t);n.meals.splice(r,1)},function(t){return console.log("Error while removing meal ",t)}))})},t.prototype.onBlurName=function(t){this.service.saveMeal(t).subscribe(function(t){return console.log(t)},function(t){return console.log(t)})},t.prototype.onBlurExtraInfo=function(t){this.service.saveMeal(t).subscribe(function(t){return console.log(t)},function(t){return console.log(t)})},t.prototype.onMealProductDrop=function(t,e){var n=this,r=e.dragData,o=t.mealProducts.find(function(t){return t.productId===r.id});Object(D.isNullOrUndefined)(o)?((o=new ye).productId=r.id,o.product=r,o.mealId=t.id,t.mealProducts.push(o),this.foodService.getProduct(r.id,this.translate.currentLang).subscribe(function(t){o.product=t,o.quantity=n.getQuantityOfProduct(t),n.service.saveMealProduct(o).subscribe(function(t){console.log("Meal product saved"),o.id=t.id},function(t){return console.log(t)})})):(o.quantity+=this.getQuantityOfProduct(o.product),this.service.saveMealProduct(o).subscribe(function(t){return console.log("Meal product saved")},function(t){return console.log(t)}))},t.prototype.getQuantityOfProduct=function(t){return t.units.length>=1?t.units[0].value:50},t.prototype.onBlurMealProductQuantity=function(t){null!=t.quantity&&this.service.saveMealProduct(t).subscribe(function(t){return console.log(t)},function(t){return console.log(t)})},t.prototype.onDeleteProduct=function(t,e){this.service.deleteMealProduct(e.id).subscribe(function(n){console.log("MealProduct removed");var r=t.mealProducts.indexOf(e);t.mealProducts.splice(r,1)},function(t){return console.log("Error while removing meal product",t)})},je([Object(s.Input)(),Oe("design:type",Xt)],t.prototype,"selectedMenu",void 0),je([Object(s.Input)(),Oe("design:type",K)],t.prototype,"selectedPatient",void 0),je([Object(s.Input)(),Oe("design:type",Array)],t.prototype,"meals",void 0),je([Object(s.ViewChild)("accordion"),Oe("design:type",Object)],t.prototype,"accordion",void 0),t=je([Object(s.Component)({selector:"app-meal",template:n("1IB2"),styles:[n("GQ7+")]}),Oe("design:paramtypes",[Jt,l.c,Pt,A,f.c])],t)}(),De=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ie=function(){function t(){}return t=De([Object(s.NgModule)({imports:[k.CommonModule,d.a,l.d,he,Gt,Ut],declarations:[Vt,Pe,ce,be,ue],providers:[Jt]})],t)}(),Ee=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Re=[{path:"diet",component:gt,canActivate:[ft],children:[{path:"",component:at,canActivate:[ft]},{path:"dashboard",component:at,canActivate:[ft]},{path:"select-patient",component:dt,canActivate:[ft]},{path:"detail-patient",component:ot,canActivate:[ft]},{path:"add-patient",component:ot,canActivate:[ft]},{path:"food",loadChildren:function(){return Gt}},{path:"menu",loadChildren:function(){return Ie}}]}],Ae=function(){function t(){}return t=Ee([Object(s.NgModule)({imports:[y.c.forChild(Re)],exports:[y.c]})],t)}(),Ce=n("UhLR"),Te=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Me=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Se=function(){function t(){}return t.prototype.ngOnInit=function(){},t=Te([Object(s.Component)({selector:"app-customer",template:n("TClG"),styles:[n("LmeB")]}),Me("design:paramtypes",[])],t)}(),we=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xe=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_e=function(){function t(t){this.translate=t,this.onSelectedCustomer=new s.EventEmitter,this.onAddCustomer=new s.EventEmitter,this.filter="",this.currentPage=1,this.customersPerPage=5}return t.prototype.ngOnInit=function(){},t.prototype.select=function(){this.onSelectedCustomer.emit(this.selectedCustomer)},t.prototype.newCustomer=function(){this.onAddCustomer.emit()},t.prototype.switch=function(t){this.selectedCustomer=t},we([Object(s.Input)(),xe("design:type",Array)],t.prototype,"customers",void 0),we([Object(s.Input)(),xe("design:type",Object)],t.prototype,"selectedCustomer",void 0),we([Object(s.Input)(),xe("design:type",String)],t.prototype,"basei18n",void 0),we([Object(s.Output)(),xe("design:type",Object)],t.prototype,"onSelectedCustomer",void 0),we([Object(s.Output)(),xe("design:type",Object)],t.prototype,"onAddCustomer",void 0),t=we([Object(s.Component)({selector:"app-select-customer",template:n("g/tV"),styles:[n("dRdj")]}),xe("design:paramtypes",[f.c])],t)}(),ke=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ne=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Le=function(){function t(t){this.translate=t,this.isAddressCollapsed=!0,this.genders=this.enumSelector(C)}return t.prototype.ngOnInit=function(){Object(D.isNullOrUndefined)(this.customer)||this.initDateModel()},t.prototype.initDateModel=function(){this.model={day:this.customer.birthday.getUTCDate(),month:this.customer.birthday.getUTCMonth()+1,year:this.customer.birthday.getUTCFullYear()}},t.prototype.enumSelector=function(t){return Object.keys(t).map(function(e){return{value:t[e],title:e}})},t.prototype.birthdayChange=function(){this.customer.birthday.setUTCFullYear(this.model.year,this.model.month-1,this.model.day)},t.prototype.formatGender=function(t){return"CUSTOMER.DETAIL.GENDER."+t},ke([Object(s.Input)(),Ne("design:type",Object)],t.prototype,"customer",void 0),t=ke([Object(s.Component)({selector:"app-detail-customer",template:n("9d60"),styles:[n("QtRZ")]}),Ne("design:paramtypes",[f.c])],t)}(),Ue=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Fe=function(){function t(){}return t.prototype.transform=function(t,e){var n=this;return t&&e?t.filter(function(t){return n.applyFilter(t,e.toString().toLowerCase())}):t},t.prototype.applyFilter=function(t,e){if(!e)return!0;for(var n=0,r=e.split(" ");n<r.length;n++){var o=r[n];if(o&&(this.contains(t.firstName,o)||this.contains(t.lastName,o)))return!0}return!1},t.prototype.contains=function(t,e){return t.toLowerCase().indexOf(e)>=0},t=Ue([Object(s.Pipe)({name:"customerfilter",pure:!1})],t)}(),Ye=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ze=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Be=function(){function t(t,e){this.service=t,this.translate=e,this.signup={customerId:0,email:"",password:""},this.usernameAlreadyTaken=!1,this.pwdCheck=""}return t.prototype.ngOnInit=function(){},t.prototype.onCreateAccount=function(){var t=this,e={customerId:this.customer.id,email:this.signup.email+this.suffix,password:this.signup.password};this.service.onSignup(e).subscribe(function(e){console.log(e),t.customer.authId="auth0|"+e._id,t.usernameAlreadyTaken=!1},function(e){console.log(e),Object(D.isNullOrUndefined)(e.error.errors)||e.error.errors.length>0&&"USERNAME_ALREADY_EXISTS"==e.error.errors[0]&&(t.usernameAlreadyTaken=!0)}),console.log(e)},t.prototype.onUpdateAccount=function(){this.signup.customerId=this.customer.id,console.log("Update"),console.log(this.signup)},Ye([Object(s.Input)(),ze("design:type",Object)],t.prototype,"customer",void 0),Ye([Object(s.Input)(),ze("design:type",String)],t.prototype,"suffix",void 0),t=Ye([Object(s.Component)({selector:"app-account",template:n("yppr"),styles:[n("71GB")]}),ze("design:paramtypes",[A,f.c])],t)}(),He=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ge=function(){function t(){}return t=He([Object(s.NgModule)({imports:[k.CommonModule,d.a,l.d,Ut],declarations:[Se,_e,Le,Fe,Be],exports:[Se,_e,Le,Be]})],t)}(),We=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},qe=function(){function t(){}return t=We([Object(s.NgModule)({imports:[k.CommonModule,d.a,l.d,Ae,N.SidebarModule.forRoot(),Ce.ChartsModule,Ut,Gt,Ie,Ge],declarations:[at,ot,dt,gt],providers:[B,ft,q],exports:[]})],t)}(),Ve=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ze=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qe=function(){function t(t,e){this.authService=t,this.router=e}return t.prototype.canActivate=function(t,e){var n=this;return this.authService.isAuthenticated()?new P.Observable(function(t){n.authService.getRole().subscribe(function(r){var o=r==i.ADMIN;t.next(o),o||n.router.navigate(["/login"],{queryParams:{ret:e.url}}),t.complete()},function(e){t.error(e)})}):(this.router.navigate(["/login"],{queryParams:{ret:e.url}}),!1)},t=Ve([Object(s.Injectable)(),Ze("design:paramtypes",[A,y.b])],t)}(),Ke=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Je=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xe={headers:new u.f({"Content-Type":"application/json"})},$e=function(){function t(t,e){this.http=t,this._food=e,this.dietUrl="api/dietetist/"}return Object.defineProperty(t.prototype,"food",{get:function(){return this._food},enumerable:!0,configurable:!0}),t.prototype.getDietetists=function(){return this.http.get(this.dietUrl,Xe)},t.prototype.getDietetist=function(t){return this.http.get(this.dietUrl+t,Xe)},t.prototype.saveDietetist=function(t){return this.http.post(this.dietUrl,t,Xe)},t=Ke([Object(s.Injectable)(),Je("design:paramtypes",[u.b,Pt])],t)}(),tn=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},en=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},nn=function(){function t(t){this.service=t}return t.prototype.ngOnInit=function(){var t=this;this.service.food.getSize().subscribe(function(e){return t.sizeOfProducts=e})},t=tn([Object(s.Component)({selector:"app-admin-dashboard",template:n("5BCO"),styles:[n("d+Vz")]}),en("design:paramtypes",[$e])],t)}(),rn=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},on=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},sn=function(){function t(t){this.router=t,this._opened=!0,this.dashboard={img:"../../assets/img/dashboard.png",title:"NAV.ADMIN.DASHBOARD",routerLink:"/admin/dashboard",subMenus:[]},this.food={img:"../../assets/img/food.ico",title:"NAV.ADMIN.FOOD",routerLink:"/admin/food",subMenus:[]},this.selectDietItem={img:"../../assets/img/diet.png",title:"NAV.DIET.SELECT",routerLink:"/admin/select-diet",subMenus:[]},this.navItems=[]}return t.prototype.ngOnInit=function(){this.initNavItems()},t.prototype.initNavItems=function(){this.navItems.push(this.dashboard),this.navItems.push(this.food),this.navItems.push(this.selectDietItem)},t.prototype._toggleSidebar=function(){this._opened=!this._opened},t.prototype.navItemClicked=function(t){console.log("Navigate to %s",t.routerLink),this.router.navigate([t.routerLink])},t=rn([Object(s.Component)({selector:"app-admin",template:n("cgDr"),styles:[n("gH1U")]}),on("design:paramtypes",[y.b])],t)}(),an=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cn=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ln=function(){function t(t,e,n){this.service=t,this.translateService=e,this.modalService=n,this.searchingProductToDelete=!1,this.purgingCheck=!1,this.alerts=[],this.alertCounter=0,this.progress={percentage:0}}return t.prototype.ngOnInit=function(){this.initFoodSize()},t.prototype.initFoodSize=function(){var t=this;this.service.food.getSize().subscribe(function(e){return t.sizeOfProducts=+e},function(t){return console.log(t)})},t.prototype.onDeleteProduct=function(t){var e=this;this.searchingProductToDelete=!0,this.service.food.getProduct(this.productId,this.translateService.currentLang).subscribe(function(n){e.searchingProductToDelete=!1,e.productToDelete=n,e.modalService.open(t).result.then(function(t){"Cancel"===t?console.log("Stay here"):"Confirm"===t&&(e.addAlert("warning","ADMIN.PRODUCT.DELETE"," "+e.productId),e.service.food.deleteProduct(e.productId).subscribe(function(t){e.initFoodSize(),e.addAlert("danger","ADMIN.PRODUCT.DELETED","")},function(t){e.addAlert("warning","ADMIN.PRODUCT.ERROR_DELETE","")})),e.productId=void 0})},function(t){e.alerts.push({id:e.alertCounter,type:"secondary",message:"ADMIN.PRODUCT.NOT_FOUND",subMessage:" "+e.productId}),setTimeout(function(t){return e.closeAlertWithId(t)},2500,e.alertCounter++),e.searchingProductToDelete=!1,e.productId=void 0})},t.prototype.closeAlert=function(t){var e=this.alerts.indexOf(t);this.alerts.splice(e,1)},t.prototype.closeAlertWithId=function(t){var e=this.alerts.find(function(e){return e.id==t}),n=this.alerts.indexOf(e);this.alerts.splice(n,1)},t.prototype.purgeDB=function(t){var e=this;this.purgingCheck=!1,this.modalService.open(t).result.then(function(t){"Cancel"===t?console.log("Stay here"):"Confirm"===t&&(e.addAlert("danger","ADMIN.PURGE.DELETE",""),e.service.food.purgeProducts().subscribe(function(t){e.initFoodSize(),e.addAlert("danger","ADMIN.PURGE.DELETED","")},function(t){e.addAlert("warning","ADMIN.PURGE.ERROR_DELETE","")}))})},t.prototype.addAlert=function(t,e,n){var r=this;this.alerts.push({id:this.alertCounter,type:t,message:e,subMessage:n}),setTimeout(function(t){return r.closeAlertWithId(t)},5e3,this.alertCounter++)},t.prototype.selectFile=function(t){this.selectedFiles=t.target.files},t.prototype.upload=function(){var t=this;this.progress.percentage=0,this.currentFileUpload=this.selectedFiles.item(0),this.service.food.batch(this.currentFileUpload).subscribe(function(e){e.type===u.e.UploadProgress?t.progress.percentage=Math.round(100*e.loaded/e.total):e instanceof u.i&&(t.currentFileUpload=void 0,t.addAlert("primary","ADMIN.UPLOAD.DONE",""),t.initFoodSize(),console.log(e))},function(e){console.log(e),t.currentFileUpload=void 0,t.addAlert("danger","ADMIN.UPLOAD.ERROR","")}),this.selectedFiles=void 0},t=an([Object(s.Component)({selector:"app-food",template:n("7Akd"),styles:[n("qty1")]}),cn("design:paramtypes",[$e,f.c,l.c])],t)}(),dn=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},un=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pn=function(){function t(t,e,n){this.service=t,this.router=e,this.translate=n}return t.prototype.ngOnInit=function(){var t=this;this.service.getDietetists().subscribe(function(e){t.diets=e},function(t){return console.log(t)})},t.prototype.onSelectedCustomer=function(t){this.router.navigate(["/admin/detail-diet",t.id])},t.prototype.onAddCustomer=function(){this.router.navigate(["/admin/add-diet"])},t=dn([Object(s.Component)({selector:"app-select-diet",template:n("SbTK"),styles:[n("9mUF")]}),un("design:paramtypes",[$e,y.b,f.c])],t)}(),fn=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fn(e,t),e}(Z),mn=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gn=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bn=function(){function t(t,e,n,r,o){this.translate=t,this.service=e,this.route=n,this.location=r,this.modalService=o,this.isAddDiet=!1,this.alerts=[],this.alertCounter=0}return t.prototype.ngOnInit=function(){this.location.path().indexOf("detail")>=0?this.initDetailDiet():this.location.path().indexOf("add")>=0&&this.initAddDiet()},t.prototype.initAddDiet=function(){this.diet=new hn,this.isAddDiet=!0},t.prototype.initDetailDiet=function(){var t=this,e=+this.route.snapshot.paramMap.get("id");0!=e&&this.service.getDietetist(e).subscribe(function(e){t.diet=e,t.initDietCopy(),console.log(e)},function(t){return console.log(t)})},t.prototype.initDietCopy=function(){this.copyDiet=X.cloneDeep(this.diet)},t.prototype.isDietModified=function(){return!X.isEqual(this.copyDiet,this.diet)},t.prototype.goBack=function(t){var e=this;this.isDietModified()?this.modalService.open(t).result.then(function(t){"Cancel"===t?console.log("Stay here"):"Return"===t&&(X.merge(e.diet,e.copyDiet),e.location.back())}):this.location.back()},t.prototype.closeAlert=function(t){var e=this.alerts.indexOf(t);this.alerts.splice(e,1)},t.prototype.closeAlertWithId=function(t){var e=this.alerts.find(function(e){return e.id==t}),n=this.alerts.indexOf(e);this.alerts.splice(n,1)},t.prototype.pushAlert=function(t){var e=this;this.alerts.push(t),setTimeout(function(t){return e.closeAlertWithId(t)},1500,this.alertCounter++)},t.prototype.save=function(){var t=this;this.pushAlert({id:this.alertCounter,type:"secondary",message:"ADMIN.DETAIL.ALERT.SAVING",subMessage:this.diet.firstName}),this.service.saveDietetist(this.diet).subscribe(function(e){t.isAddDiet&&(t.diet=X.merge(t.diet,e),t.isAddDiet=!1),t.initDietCopy(),t.pushAlert({id:t.alertCounter,type:"success",message:"ADMIN.DETAIL.ALERT.SAVED",subMessage:t.diet.firstName})},function(e){console.log("Error"),console.log(e),t.pushAlert({id:t.alertCounter,type:"danger",message:"ADMIN.DETAIL.ALERT.ERROR",subMessage:t.diet.firstName})})},t=mn([Object(s.Component)({selector:"app-detail-diet",template:n("GAMd"),styles:[n("YAmB")]}),gn("design:paramtypes",[f.c,$e,y.a,k.Location,l.c])],t)}(),yn=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vn=[{path:"admin",component:sn,canActivate:[Qe],children:[{path:"",component:nn,canActivate:[Qe]},{path:"dashboard",component:nn,canActivate:[Qe]},{path:"select-diet",component:pn,canActivate:[Qe]},{path:"detail-diet/:id",component:bn,canActivate:[Qe]},{path:"add-diet",component:bn,canActivate:[Qe]},{path:"food",component:ln,canActivate:[Qe]}]}],jn=function(){function t(){}return t=yn([Object(s.NgModule)({imports:[y.c.forChild(vn)],exports:[y.c]})],t)}(),On=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Pn=function(){function t(){}return t=On([Object(s.NgModule)({imports:[k.CommonModule,d.a,l.d,jn,N.SidebarModule.forRoot(),Ut,Ge],declarations:[sn,nn,ln,pn,bn],providers:[Qe,Pt,$e]})],t)}(),Dn=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},In=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},En=function(){function t(t,e,n,r){this.translate=t,this.authService=e,this.router=n,this.route=r,this.auth={username:"momo@diet.com",password:"momo"},this.ret="",this.error="",this.loading=!1}return t.prototype.ngOnInit=function(){var t=this;this.route.queryParams.subscribe(function(e){return t.ret=e.ret||"/login"})},t.prototype.onLogin=function(){var t=this;this.loading=!0,this.authService.onLogin(this.auth).subscribe(function(e){if(t.loading=!1,"/login"===t.ret)switch(e){case i.PATIENT:t.router.navigateByUrl("patient/dashboard");break;case i.ADMIN:t.router.navigateByUrl("admin/dashboard");break;case i.DIET:t.router.navigateByUrl("diet/dashboard")}else t.router.navigateByUrl(t.ret)},function(e){t.loading=!1,t.error="LOGIN.CANNOT_CONNECT",console.log(e)})},t=Dn([Object(s.Component)({selector:"app-login",template:n("1IEk"),styles:[n("FFCA")]}),In("design:paramtypes",[f.c,A,y.b,y.a])],t)}(),Rn=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},An=[{path:"login",component:En},{path:"",redirectTo:"/login",pathMatch:"full"}],Cn=function(){function t(){}return t=Rn([Object(s.NgModule)({imports:[y.c.forRoot(An)],exports:[y.c]})],t)}(),Tn=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Mn=function(){function t(){}return t=Tn([Object(s.NgModule)({imports:[k.CommonModule,d.a,l.d,Cn,Ut],declarations:[En],providers:[],exports:[]})],t)}(),Sn=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},wn=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xn=function(){function t(t){this.router=t,this._opened=!0,this.dashboardItem={img:"../../assets/img/dashboard.png",title:"NAV.DASHBOARD",routerLink:"/patient/dashboard",subMenus:[]},this.navItems=[]}return t.prototype.ngOnInit=function(){this.initNavItems()},t.prototype.initNavItems=function(){this.navItems.push(this.dashboardItem)},t.prototype._toggleSidebar=function(){this._opened=!this._opened},t.prototype.navItemClicked=function(t){console.log("Navigate to %s",t.routerLink),this.router.navigate([t.routerLink])},t=Sn([Object(s.Component)({selector:"app-patient",template:n("+0hO"),styles:[n("D+9W")]}),wn("design:paramtypes",[y.b])],t)}(),_n=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kn=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Nn=function(){function t(){}return t.prototype.ngOnInit=function(){},t=_n([Object(s.Component)({selector:"app-patient-dashboard",template:n("visJ"),styles:[n("l46F")]}),kn("design:paramtypes",[])],t)}(),Ln=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Un=[{path:"patient",component:xn,canActivate:[S],children:[{path:"",component:Nn,canActivate:[S]},{path:"dashboard",component:Nn,canActivate:[S]}]}],Fn=function(){function t(){}return t=Ln([Object(s.NgModule)({imports:[y.c.forChild(Un)],exports:[y.c]})],t)}(),Yn=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},zn=function(){function t(){}return t=Yn([Object(s.NgModule)({imports:[k.CommonModule,d.a,l.d,Fn,N.SidebarModule.forRoot(),Ut],declarations:[xn,Nn],providers:[S]})],t)}(),Bn=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hn=function(){function t(){}return t=Bn([Object(s.NgModule)({declarations:[b],imports:[c.a,l.d.forRoot(),d.a,u.c,f.b.forRoot({loader:{provide:f.a,useFactory:r,deps:[u.b]}}),p.b.forRoot({config:{tokenGetter:o,whitelistedDomains:["localhost:8080"]}}),Mn,qe,Pn,Ge,zn,O],providers:[p.a,A,S,{provide:u.a,useClass:_,multi:!0}],bootstrap:[b]})],t)}();Object(s.enableProdMode)(),Object(a.a)().bootstrapModule(Hn).catch(function(t){return console.log(t)})},cgDr:function(t,e){t.exports='<ng-sidebar-container style="height: 100vh;">\r\n  <ng-sidebar\r\n    [(opened)]="_opened"\r\n    mode="push"\r\n    autoCollapseWidth=500>\r\n    <app-navbar [navItems]="navItems" (navItemClicked)="navItemClicked($event)"></app-navbar>\r\n  </ng-sidebar>\r\n  <div ng-sidebar-content>\r\n    <button class="btn btn-secondary" (click)="_toggleSidebar()"><i class="fa fa-bars" aria-hidden="true"></i></button>\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n</ng-sidebar-container>\r\n\r\n'},"d+Vz":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},dRdj:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".jumbotron{width:50%;margin:auto;min-width:450px}@media (max-width:768px){.jumbotron{width:100%;min-width:50%}}",""]),t.exports=t.exports.toString()},eFug:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".jumbotron{width:50%;margin:auto;min-width:450px}@media (max-width:768px){.jumbotron{width:100%;min-width:50%}}",""]),t.exports=t.exports.toString()},efyd:function(t,e){t.exports="<router-outlet></router-outlet>\r\n"},"g/tV":function(t,e){t.exports='<div class="jumbotron">\r\n  <h4 class="display-4">{{ basei18n + \'.SELECT.TITLE\' | translate }}</h4>\r\n\r\n  <label for="search">{{ basei18n + \'.SELECT.SEARCH\' | translate }}</label>\r\n  <input id="search" type="text" name="search" [(ngModel)]="filter"\r\n         placeholder="{{ basei18n + \'.SELECT.SEARCH_PLACEHOLDER\' | translate }}" class="form-control"/>\r\n\r\n  <hr class="my-4">\r\n  <div *ngIf="customers" >\r\n    <ul class="list-group list-group-flush" >\r\n      <li class="list-group-item patient-holder " *ngFor="let customer of\r\n        (customers | customerfilter:filter).slice((this.currentPage-1) * this.customersPerPage, this.currentPage * this.customersPerPage)" (click)="switch(customer)"\r\n          [class.active]="(selectedCustomer ? selectedCustomer.id : 0) === customer.id">\r\n        {{customer.firstName + \' \' + customer.lastName}}\r\n      </li>\r\n    </ul>\r\n\r\n    <ngb-pagination [pageSize]="customersPerPage" [collectionSize]="(customers | customerfilter:filter).length"\r\n                    [(page)]="currentPage" aria-label="Default pagination"></ngb-pagination>\r\n  </div>\r\n\r\n  <hr class="my-4">\r\n  <button type="button" class="btn btn-secondary float-left" (click)="newCustomer()">\r\n    {{ basei18n + \'.SELECT.ADD\' | translate }}\r\n  </button>\r\n  <button type="button" class="btn btn-primary float-right" (click)="select()"\r\n          [disabled]="!selectedCustomer">{{ basei18n + \'.SELECT.SELECT\' | translate }}</button>\r\n</div>\r\n'},gH1U:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},"h+s7":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"nav{width:170px;height:100vh}#settings-cog:hover{-webkit-animation:spin 4s linear infinite;animation:spin 4s linear infinite}@-webkit-keyframes spin{to{-webkit-transform:rotate(1turn)}}@keyframes spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.menuItem{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-top:1em;padding-bottom:1em;border-right:2px solid transparent}.menuItem:hover{background-color:#add8e6}.menuItem img{width:auto;height:100px}.activeMenu{border-right:2px solid #1e90ff}#submenu>ul{list-style:none;margin:0;padding:0}#submenu li{padding-top:1em;padding-bottom:1em}#activeMenu:hover,#submenu li:hover{background-color:#add8e6}#submenu img{width:auto;height:100px;display:block;margin-left:auto;margin-right:auto}#bottom,#logout{width:150px}#logout{margin-left:10px;margin-bottom:10px}#menu{list-style:none;margin:0;padding:0}a.active{font-style:italic;font-weight:700}",""]),t.exports=t.exports.toString()},hxJY:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},kqZZ:function(t,e){t.exports='<div class="container-fluid">\r\n  <div class="row">\r\n    <div class="col-md-4" id="search">\r\n      <app-search-food (onSelectedProduct)="onSelectedProduct($event)"></app-search-food>\r\n    </div>\r\n    <div class="col-md-8">\r\n      <app-detail-food [selectedProduct]="selectedProduct"></app-detail-food>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},l46F:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},"mV+r":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},noSp:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".product-holder{height:70px}.product-holder>h6{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.gray-out{-webkit-filter:blur(3px) grayscale(100%);filter:blur(3px) grayscale(100%)}.drag-over{border:2px dashed #ffc100}",""]),t.exports=t.exports.toString()},qty1:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},sUMo:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"#product-img{width:auto;height:200px}",""]),t.exports=t.exports.toString()},visJ:function(t,e){t.exports="<p>\r\n  patient-dashboard works!\r\n</p>\r\n"},yppr:function(t,e){t.exports='<div class="card mt-3" *ngIf="customer.id !== 0">\r\n  <h4 class="card-header">{{ "CUSTOMER.ACCOUNT.TITLE" | translate}}</h4>\r\n  <div class="card-body">\r\n    <div>\r\n      <label *ngIf="usernameAlreadyTaken">{{ "CUSTOMER.ACCOUNT.USERNAME_TAKEN" | translate}}</label>\r\n      <label for="username">{{ "CUSTOMER.ACCOUNT.USERNAME" | translate}}</label>\r\n      <div class="input-group" [class.username-taken]="usernameAlreadyTaken">\r\n        <input type="text" class="form-control" placeholder="{{ \'CUSTOMER.ACCOUNT.USERNAME\' | translate}}" id="username" required\r\n               [(ngModel)]="signup.email" name="username" aria-describedby="suffix">\r\n        <span class="input-group-addon" id="suffix">@patient.com</span>\r\n      </div>\r\n\r\n      <label for="password">{{ "CUSTOMER.ACCOUNT.PASSWORD" | translate}}</label>\r\n      <input type="password" class="form-control" id="password" required [(ngModel)]="signup.password" name="password">\r\n      <label for="pwdCheck">{{ "CUSTOMER.ACCOUNT.PASSWORD_CHECK" | translate}}</label>\r\n      <input type="password" class="form-control" id="pwdCheck" required [(ngModel)]="pwdCheck" name="password">\r\n      <button *ngIf="!customer.authId"\r\n        [disabled]="!signup.password || !signup.email || (signup.password != pwdCheck)" type="button" class="btn btn-primary mt-2" (click)="onCreateAccount()">\r\n        {{ "CUSTOMER.ACCOUNT.CREATE" | translate}}\r\n      </button>\r\n      <button *ngIf="customer.authId" [disabled]="!signup.password || !signup.email || (signup.password != pwdCheck)"\r\n              type="button" class="btn btn-primary mt-2" (click)="onUpdateAccount()">\r\n        {{ "CUSTOMER.ACCOUNT.UPDATE" | translate}}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},zYgw:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()}},[0]);